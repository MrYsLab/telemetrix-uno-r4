
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../telemetrix_minima_reference/">
      
      
        <link rel="next" href="../telemetrix_wifi_reference/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.1, mkdocs-material-9.1.21">
    
    
      
        <title>telemetrix_uno_r4_minima_aio - The Telemetrix User's Guide For The Arduino UNO R4 Minima And WIFI</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.eebd395e.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#telemetrix_uno_r4_minima_aio" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="The Telemetrix User&#39;s Guide For The Arduino UNO R4 Minima And WIFI" class="md-header__button md-logo" aria-label="The Telemetrix User's Guide For The Arduino UNO R4 Minima And WIFI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Telemetrix User's Guide For The Arduino UNO R4 Minima And WIFI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              telemetrix_uno_r4_minima_aio
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="The Telemetrix User&#39;s Guide For The Arduino UNO R4 Minima And WIFI" class="md-nav__button md-logo" aria-label="The Telemetrix User's Guide For The Arduino UNO R4 Minima And WIFI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    The Telemetrix User's Guide For The Arduino UNO R4 Minima And WIFI
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../issues/" class="md-nav__link">
        Known Issues
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
      
      
      
        <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
          Server
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Server
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../arduino_ide/" class="md-nav__link">
        Install The Arduino IDE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../server_library_installation/" class="md-nav__link">
        Install the Telemetrix4Uno Library Into The Arduino IDE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../server_selection/" class="md-nav__link">
        Select A Server From the Arduino IDE Examples Menu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../server_config/" class="md-nav__link">
        Server Configuration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          Client
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Client
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../python_3_verify/" class="md-nav__link">
        Install Python 3.8+
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../venv/" class="md-nav__link">
        Create A Python Virtual Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../install_telemetrix/" class="md-nav__link">
        Installing The Python Client APIs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
          Developing With Telemetrix
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Developing With Telemetrix
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../about_the_apis/" class="md-nav__link">
        General Principles
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../callbacks/" class="md-nav__link">
        Callbacks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../app_creation/" class="md-nav__link">
        Application Creation
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_4" id="__nav_4_1_4_label" tabindex="0">
          Application Templates
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_4">
          <span class="md-nav__icon md-icon"></span>
          Application Templates
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_4_1" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_4_1" id="__nav_4_1_4_1_label" tabindex="0">
          Arduino UNO R4 Minima
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_4_1">
          <span class="md-nav__icon md-icon"></span>
          Arduino UNO R4 Minima
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../template_minima_threaded/" class="md-nav__link">
        Minima Threaded
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../template_minima_aio/" class="md-nav__link">
        Minima AIO
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_4_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_4_2" id="__nav_4_1_4_2_label" tabindex="0">
          Arduino UNO R4 WIFI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_4_2">
          <span class="md-nav__icon md-icon"></span>
          Arduino UNO R4 WIFI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../template_ble/" class="md-nav__link">
        BLE AIO
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_4_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_4_2_2" id="__nav_4_1_4_2_2_label" tabindex="0">
          USBSerial
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_4_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_4_2_2">
          <span class="md-nav__icon md-icon"></span>
          USBSerial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../template_usb_serial_threaded/" class="md-nav__link">
        USBSerial Threaded
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../template_usb_serial_aio/" class="md-nav__link">
        USBSerial AIO
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_4_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_4_2_3" id="__nav_4_1_4_2_3_label" tabindex="0">
          WIFI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_4_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_4_2_3">
          <span class="md-nav__icon md-icon"></span>
          WIFI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../template_wifi_threaded/" class="md-nav__link">
        WIFI Threaded
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../template_wifi_aio/" class="md-nav__link">
        WIFI AIO
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          The API References
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          The API References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../telemetrix_minima_reference/" class="md-nav__link">
        telemetrix_uno_r4_minima
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          telemetrix_uno_r4_minima_aio
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        telemetrix_uno_r4_minima_aio
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio" class="md-nav__link">
    telemetrix_uno_r4_minima_aio
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio" class="md-nav__link">
    TelemetrixUnoR4MinimaAio
  </a>
  
    <nav class="md-nav" aria-label="TelemetrixUnoR4MinimaAio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.analog_write" class="md-nav__link">
    analog_write()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.digital_write" class="md-nav__link">
    digital_write()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.disable_all_reporting" class="md-nav__link">
    disable_all_reporting()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.disable_analog_reporting" class="md-nav__link">
    disable_analog_reporting()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.disable_digital_reporting" class="md-nav__link">
    disable_digital_reporting()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.enable_analog_reporting" class="md-nav__link">
    enable_analog_reporting()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.enable_digital_reporting" class="md-nav__link">
    enable_digital_reporting()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.get_event_loop" class="md-nav__link">
    get_event_loop()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.i2c_read" class="md-nav__link">
    i2c_read()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.i2c_read_restart_transmission" class="md-nav__link">
    i2c_read_restart_transmission()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.i2c_write" class="md-nav__link">
    i2c_write()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.loop_back" class="md-nav__link">
    loop_back()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.r4_hard_reset" class="md-nav__link">
    r4_hard_reset()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.servo_detach" class="md-nav__link">
    servo_detach()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.servo_write" class="md-nav__link">
    servo_write()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_analog_scan_interval" class="md-nav__link">
    set_analog_scan_interval()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_analog_input" class="md-nav__link">
    set_pin_mode_analog_input()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_analog_output" class="md-nav__link">
    set_pin_mode_analog_output()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_dht" class="md-nav__link">
    set_pin_mode_dht()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_digital_input" class="md-nav__link">
    set_pin_mode_digital_input()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_digital_input_pullup" class="md-nav__link">
    set_pin_mode_digital_input_pullup()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_digital_output" class="md-nav__link">
    set_pin_mode_digital_output()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_i2c" class="md-nav__link">
    set_pin_mode_i2c()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_servo" class="md-nav__link">
    set_pin_mode_servo()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_sonar" class="md-nav__link">
    set_pin_mode_sonar()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_spi" class="md-nav__link">
    set_pin_mode_spi()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.shutdown" class="md-nav__link">
    shutdown()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.sonar_disable" class="md-nav__link">
    sonar_disable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.sonar_enable" class="md-nav__link">
    sonar_enable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.spi_cs_control" class="md-nav__link">
    spi_cs_control()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.spi_read_blocking" class="md-nav__link">
    spi_read_blocking()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.spi_set_format" class="md-nav__link">
    spi_set_format()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.spi_write_blocking" class="md-nav__link">
    spi_write_blocking()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.start_aio" class="md-nav__link">
    start_aio()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../telemetrix_wifi_reference/" class="md-nav__link">
        telemetrix_uno_r4_wifi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../telemetrix_wifi_reference_aio/" class="md-nav__link">
        telemetrix_uno_r4_wifi_aio
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        Downloading And Running The Examples
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio" class="md-nav__link">
    telemetrix_uno_r4_minima_aio
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio" class="md-nav__link">
    TelemetrixUnoR4MinimaAio
  </a>
  
    <nav class="md-nav" aria-label="TelemetrixUnoR4MinimaAio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.analog_write" class="md-nav__link">
    analog_write()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.digital_write" class="md-nav__link">
    digital_write()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.disable_all_reporting" class="md-nav__link">
    disable_all_reporting()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.disable_analog_reporting" class="md-nav__link">
    disable_analog_reporting()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.disable_digital_reporting" class="md-nav__link">
    disable_digital_reporting()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.enable_analog_reporting" class="md-nav__link">
    enable_analog_reporting()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.enable_digital_reporting" class="md-nav__link">
    enable_digital_reporting()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.get_event_loop" class="md-nav__link">
    get_event_loop()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.i2c_read" class="md-nav__link">
    i2c_read()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.i2c_read_restart_transmission" class="md-nav__link">
    i2c_read_restart_transmission()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.i2c_write" class="md-nav__link">
    i2c_write()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.loop_back" class="md-nav__link">
    loop_back()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.r4_hard_reset" class="md-nav__link">
    r4_hard_reset()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.servo_detach" class="md-nav__link">
    servo_detach()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.servo_write" class="md-nav__link">
    servo_write()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_analog_scan_interval" class="md-nav__link">
    set_analog_scan_interval()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_analog_input" class="md-nav__link">
    set_pin_mode_analog_input()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_analog_output" class="md-nav__link">
    set_pin_mode_analog_output()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_dht" class="md-nav__link">
    set_pin_mode_dht()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_digital_input" class="md-nav__link">
    set_pin_mode_digital_input()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_digital_input_pullup" class="md-nav__link">
    set_pin_mode_digital_input_pullup()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_digital_output" class="md-nav__link">
    set_pin_mode_digital_output()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_i2c" class="md-nav__link">
    set_pin_mode_i2c()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_servo" class="md-nav__link">
    set_pin_mode_servo()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_sonar" class="md-nav__link">
    set_pin_mode_sonar()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_spi" class="md-nav__link">
    set_pin_mode_spi()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.shutdown" class="md-nav__link">
    shutdown()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.sonar_disable" class="md-nav__link">
    sonar_disable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.sonar_enable" class="md-nav__link">
    sonar_enable()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.spi_cs_control" class="md-nav__link">
    spi_cs_control()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.spi_read_blocking" class="md-nav__link">
    spi_read_blocking()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.spi_set_format" class="md-nav__link">
    spi_set_format()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.spi_write_blocking" class="md-nav__link">
    spi_write_blocking()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.start_aio" class="md-nav__link">
    start_aio()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>telemetrix_uno_r4_minima_aio</h1>

<div class="doc doc-object doc-module">


<a id="telemetrix_uno_r4_minima_aio"></a>
  <div class="doc doc-contents first">
  
      <p>Copyright (c) 2023 Alan Yorinks All rights reserved.</p>
<p>This program is free software; you can redistribute it and/or
modify it under the terms of the GNU AFFERO GENERAL PUBLIC LICENSE
Version 3 as published by the Free Software Foundation; either
or (at your option) any later version.
This library is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
General Public License for more details.</p>
<p>You should have received a copy of the GNU AFFERO GENERAL PUBLIC LICENSE
along with this library; if not, write to the Free Software
Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio" class="doc doc-heading">
          <code>TelemetrixUnoR4MinimaAio</code>


</h2>


  <div class="doc doc-contents ">

  
      <p>This class exposes and implements the TelemetrixAIO API.
It includes the public API methods as well as
a set of private methods. This is an asyncio API.</p>

            <details class="quote">
              <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  33</span>
<span class="normal">  34</span>
<span class="normal">  35</span>
<span class="normal">  36</span>
<span class="normal">  37</span>
<span class="normal">  38</span>
<span class="normal">  39</span>
<span class="normal">  40</span>
<span class="normal">  41</span>
<span class="normal">  42</span>
<span class="normal">  43</span>
<span class="normal">  44</span>
<span class="normal">  45</span>
<span class="normal">  46</span>
<span class="normal">  47</span>
<span class="normal">  48</span>
<span class="normal">  49</span>
<span class="normal">  50</span>
<span class="normal">  51</span>
<span class="normal">  52</span>
<span class="normal">  53</span>
<span class="normal">  54</span>
<span class="normal">  55</span>
<span class="normal">  56</span>
<span class="normal">  57</span>
<span class="normal">  58</span>
<span class="normal">  59</span>
<span class="normal">  60</span>
<span class="normal">  61</span>
<span class="normal">  62</span>
<span class="normal">  63</span>
<span class="normal">  64</span>
<span class="normal">  65</span>
<span class="normal">  66</span>
<span class="normal">  67</span>
<span class="normal">  68</span>
<span class="normal">  69</span>
<span class="normal">  70</span>
<span class="normal">  71</span>
<span class="normal">  72</span>
<span class="normal">  73</span>
<span class="normal">  74</span>
<span class="normal">  75</span>
<span class="normal">  76</span>
<span class="normal">  77</span>
<span class="normal">  78</span>
<span class="normal">  79</span>
<span class="normal">  80</span>
<span class="normal">  81</span>
<span class="normal">  82</span>
<span class="normal">  83</span>
<span class="normal">  84</span>
<span class="normal">  85</span>
<span class="normal">  86</span>
<span class="normal">  87</span>
<span class="normal">  88</span>
<span class="normal">  89</span>
<span class="normal">  90</span>
<span class="normal">  91</span>
<span class="normal">  92</span>
<span class="normal">  93</span>
<span class="normal">  94</span>
<span class="normal">  95</span>
<span class="normal">  96</span>
<span class="normal">  97</span>
<span class="normal">  98</span>
<span class="normal">  99</span>
<span class="normal"> 100</span>
<span class="normal"> 101</span>
<span class="normal"> 102</span>
<span class="normal"> 103</span>
<span class="normal"> 104</span>
<span class="normal"> 105</span>
<span class="normal"> 106</span>
<span class="normal"> 107</span>
<span class="normal"> 108</span>
<span class="normal"> 109</span>
<span class="normal"> 110</span>
<span class="normal"> 111</span>
<span class="normal"> 112</span>
<span class="normal"> 113</span>
<span class="normal"> 114</span>
<span class="normal"> 115</span>
<span class="normal"> 116</span>
<span class="normal"> 117</span>
<span class="normal"> 118</span>
<span class="normal"> 119</span>
<span class="normal"> 120</span>
<span class="normal"> 121</span>
<span class="normal"> 122</span>
<span class="normal"> 123</span>
<span class="normal"> 124</span>
<span class="normal"> 125</span>
<span class="normal"> 126</span>
<span class="normal"> 127</span>
<span class="normal"> 128</span>
<span class="normal"> 129</span>
<span class="normal"> 130</span>
<span class="normal"> 131</span>
<span class="normal"> 132</span>
<span class="normal"> 133</span>
<span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span>
<span class="normal">2020</span>
<span class="normal">2021</span>
<span class="normal">2022</span>
<span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span>
<span class="normal">2042</span>
<span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span>
<span class="normal">2063</span>
<span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span>
<span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span>
<span class="normal">2104</span>
<span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span>
<span class="normal">2110</span>
<span class="normal">2111</span>
<span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span>
<span class="normal">2179</span>
<span class="normal">2180</span>
<span class="normal">2181</span>
<span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span>
<span class="normal">2188</span>
<span class="normal">2189</span>
<span class="normal">2190</span>
<span class="normal">2191</span>
<span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span>
<span class="normal">2197</span>
<span class="normal">2198</span>
<span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span>
<span class="normal">2202</span>
<span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span>
<span class="normal">2215</span>
<span class="normal">2216</span>
<span class="normal">2217</span>
<span class="normal">2218</span>
<span class="normal">2219</span>
<span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span>
<span class="normal">2234</span>
<span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span>
<span class="normal">2239</span>
<span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span>
<span class="normal">2243</span>
<span class="normal">2244</span>
<span class="normal">2245</span>
<span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span>
<span class="normal">2250</span>
<span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span>
<span class="normal">2256</span>
<span class="normal">2257</span>
<span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span>
<span class="normal">2262</span>
<span class="normal">2263</span>
<span class="normal">2264</span>
<span class="normal">2265</span>
<span class="normal">2266</span>
<span class="normal">2267</span>
<span class="normal">2268</span>
<span class="normal">2269</span>
<span class="normal">2270</span>
<span class="normal">2271</span>
<span class="normal">2272</span>
<span class="normal">2273</span>
<span class="normal">2274</span>
<span class="normal">2275</span>
<span class="normal">2276</span>
<span class="normal">2277</span>
<span class="normal">2278</span>
<span class="normal">2279</span>
<span class="normal">2280</span>
<span class="normal">2281</span>
<span class="normal">2282</span>
<span class="normal">2283</span>
<span class="normal">2284</span>
<span class="normal">2285</span>
<span class="normal">2286</span>
<span class="normal">2287</span>
<span class="normal">2288</span>
<span class="normal">2289</span>
<span class="normal">2290</span>
<span class="normal">2291</span>
<span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span>
<span class="normal">2296</span>
<span class="normal">2297</span>
<span class="normal">2298</span>
<span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span>
<span class="normal">2302</span>
<span class="normal">2303</span>
<span class="normal">2304</span>
<span class="normal">2305</span>
<span class="normal">2306</span>
<span class="normal">2307</span>
<span class="normal">2308</span>
<span class="normal">2309</span>
<span class="normal">2310</span>
<span class="normal">2311</span>
<span class="normal">2312</span>
<span class="normal">2313</span>
<span class="normal">2314</span>
<span class="normal">2315</span>
<span class="normal">2316</span>
<span class="normal">2317</span>
<span class="normal">2318</span>
<span class="normal">2319</span>
<span class="normal">2320</span>
<span class="normal">2321</span>
<span class="normal">2322</span>
<span class="normal">2323</span>
<span class="normal">2324</span>
<span class="normal">2325</span>
<span class="normal">2326</span>
<span class="normal">2327</span>
<span class="normal">2328</span>
<span class="normal">2329</span>
<span class="normal">2330</span>
<span class="normal">2331</span>
<span class="normal">2332</span>
<span class="normal">2333</span>
<span class="normal">2334</span>
<span class="normal">2335</span>
<span class="normal">2336</span>
<span class="normal">2337</span>
<span class="normal">2338</span>
<span class="normal">2339</span>
<span class="normal">2340</span>
<span class="normal">2341</span>
<span class="normal">2342</span>
<span class="normal">2343</span>
<span class="normal">2344</span>
<span class="normal">2345</span>
<span class="normal">2346</span>
<span class="normal">2347</span>
<span class="normal">2348</span>
<span class="normal">2349</span>
<span class="normal">2350</span>
<span class="normal">2351</span>
<span class="normal">2352</span>
<span class="normal">2353</span>
<span class="normal">2354</span>
<span class="normal">2355</span>
<span class="normal">2356</span>
<span class="normal">2357</span>
<span class="normal">2358</span>
<span class="normal">2359</span>
<span class="normal">2360</span>
<span class="normal">2361</span>
<span class="normal">2362</span>
<span class="normal">2363</span>
<span class="normal">2364</span>
<span class="normal">2365</span>
<span class="normal">2366</span>
<span class="normal">2367</span>
<span class="normal">2368</span>
<span class="normal">2369</span>
<span class="normal">2370</span>
<span class="normal">2371</span>
<span class="normal">2372</span>
<span class="normal">2373</span>
<span class="normal">2374</span>
<span class="normal">2375</span>
<span class="normal">2376</span>
<span class="normal">2377</span>
<span class="normal">2378</span>
<span class="normal">2379</span>
<span class="normal">2380</span>
<span class="normal">2381</span>
<span class="normal">2382</span>
<span class="normal">2383</span>
<span class="normal">2384</span>
<span class="normal">2385</span>
<span class="normal">2386</span>
<span class="normal">2387</span>
<span class="normal">2388</span>
<span class="normal">2389</span>
<span class="normal">2390</span>
<span class="normal">2391</span>
<span class="normal">2392</span>
<span class="normal">2393</span>
<span class="normal">2394</span>
<span class="normal">2395</span>
<span class="normal">2396</span>
<span class="normal">2397</span>
<span class="normal">2398</span>
<span class="normal">2399</span>
<span class="normal">2400</span>
<span class="normal">2401</span>
<span class="normal">2402</span>
<span class="normal">2403</span>
<span class="normal">2404</span>
<span class="normal">2405</span>
<span class="normal">2406</span>
<span class="normal">2407</span>
<span class="normal">2408</span>
<span class="normal">2409</span>
<span class="normal">2410</span>
<span class="normal">2411</span>
<span class="normal">2412</span>
<span class="normal">2413</span>
<span class="normal">2414</span>
<span class="normal">2415</span>
<span class="normal">2416</span>
<span class="normal">2417</span>
<span class="normal">2418</span>
<span class="normal">2419</span>
<span class="normal">2420</span>
<span class="normal">2421</span>
<span class="normal">2422</span>
<span class="normal">2423</span>
<span class="normal">2424</span>
<span class="normal">2425</span>
<span class="normal">2426</span>
<span class="normal">2427</span>
<span class="normal">2428</span>
<span class="normal">2429</span>
<span class="normal">2430</span>
<span class="normal">2431</span>
<span class="normal">2432</span>
<span class="normal">2433</span>
<span class="normal">2434</span>
<span class="normal">2435</span>
<span class="normal">2436</span>
<span class="normal">2437</span>
<span class="normal">2438</span>
<span class="normal">2439</span>
<span class="normal">2440</span>
<span class="normal">2441</span>
<span class="normal">2442</span>
<span class="normal">2443</span>
<span class="normal">2444</span>
<span class="normal">2445</span>
<span class="normal">2446</span>
<span class="normal">2447</span>
<span class="normal">2448</span>
<span class="normal">2449</span>
<span class="normal">2450</span>
<span class="normal">2451</span>
<span class="normal">2452</span>
<span class="normal">2453</span>
<span class="normal">2454</span>
<span class="normal">2455</span>
<span class="normal">2456</span>
<span class="normal">2457</span>
<span class="normal">2458</span>
<span class="normal">2459</span>
<span class="normal">2460</span>
<span class="normal">2461</span>
<span class="normal">2462</span>
<span class="normal">2463</span>
<span class="normal">2464</span>
<span class="normal">2465</span>
<span class="normal">2466</span>
<span class="normal">2467</span>
<span class="normal">2468</span>
<span class="normal">2469</span>
<span class="normal">2470</span>
<span class="normal">2471</span>
<span class="normal">2472</span>
<span class="normal">2473</span>
<span class="normal">2474</span>
<span class="normal">2475</span>
<span class="normal">2476</span>
<span class="normal">2477</span>
<span class="normal">2478</span>
<span class="normal">2479</span>
<span class="normal">2480</span>
<span class="normal">2481</span>
<span class="normal">2482</span>
<span class="normal">2483</span>
<span class="normal">2484</span>
<span class="normal">2485</span>
<span class="normal">2486</span>
<span class="normal">2487</span>
<span class="normal">2488</span>
<span class="normal">2489</span>
<span class="normal">2490</span>
<span class="normal">2491</span>
<span class="normal">2492</span>
<span class="normal">2493</span>
<span class="normal">2494</span>
<span class="normal">2495</span>
<span class="normal">2496</span>
<span class="normal">2497</span>
<span class="normal">2498</span>
<span class="normal">2499</span>
<span class="normal">2500</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TelemetrixUnoR4MinimaAio</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class exposes and implements the TelemetrixAIO API.</span>
<span class="sd">    It includes the public API methods as well as</span>
<span class="sd">    a set of private methods. This is an asyncio API.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># noinspection PyPep8,PyPep8</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">com_port</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">arduino_instance_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">arduino_wait</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                 <span class="n">sleep_tune</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">autostart</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                 <span class="n">loop</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">shutdown_on_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                 <span class="n">close_loop_on_shutdown</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">hard_reset_on_shutdown</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If you have a single Arduino connected to your computer,</span>
<span class="sd">        then you may accept all the default values.</span>

<span class="sd">        Otherwise, specify a unique arduino_instance id for each board in use.</span>

<span class="sd">        :param com_port: e.g. COM3 or /dev/ttyACM0.</span>

<span class="sd">        :param arduino_instance_id: Must match value in the Telemetrix4Arduino sketch</span>

<span class="sd">        :param arduino_wait: Amount of time to wait for an Arduino to</span>
<span class="sd">                             fully reset itself.</span>

<span class="sd">        :param sleep_tune: A tuning parameter (typically not changed by user)</span>

<span class="sd">        :param autostart: If you wish to call the start method within</span>
<span class="sd">                          your application, then set this to False.</span>

<span class="sd">        :param loop: optional user provided event loop</span>

<span class="sd">        :param shutdown_on_exception: call shutdown before raising</span>
<span class="sd">                                      a RunTimeError exception, or</span>
<span class="sd">                                      receiving a KeyboardInterrupt exception</span>

<span class="sd">        :param close_loop_on_shutdown: stop and close the event loop loop</span>
<span class="sd">                                       when a shutdown is called or a serial</span>
<span class="sd">                                       error occurs</span>

<span class="sd">       :param hard_reset_on_shutdown: reset the board on shutdown</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check to make sure that Python interpreter is version 3.8.3 or greater</span>
        <span class="n">python_version</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span>
        <span class="k">if</span> <span class="n">python_version</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">python_version</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">8</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">python_version</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;ERROR: Python 3.7 or greater is &quot;</span>
                                   <span class="s2">&quot;required for use of this program.&quot;</span><span class="p">)</span>

        <span class="c1"># save input parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">com_port</span> <span class="o">=</span> <span class="n">com_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arduino_instance_id</span> <span class="o">=</span> <span class="n">arduino_instance_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arduino_wait</span> <span class="o">=</span> <span class="n">arduino_wait</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sleep_tune</span> <span class="o">=</span> <span class="n">sleep_tune</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">autostart</span> <span class="o">=</span> <span class="n">autostart</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hard_reset_on_shutdown</span> <span class="o">=</span> <span class="n">hard_reset_on_shutdown</span>

        <span class="c1"># set the event loop</span>
        <span class="k">if</span> <span class="n">loop</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">loop</span> <span class="o">=</span> <span class="n">loop</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span> <span class="o">=</span> <span class="n">shutdown_on_exception</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close_loop_on_shutdown</span> <span class="o">=</span> <span class="n">close_loop_on_shutdown</span>

        <span class="c1"># dictionaries to store the callbacks for each pin</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">analog_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">digital_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">i2c_callback</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i2c_callback2</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">i2c_1_active</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i2c_2_active</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">spi_callback</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">onewire_callback</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># debug loopback callback method</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loop_back_callback</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># the trigger pin will be the key to retrieve</span>
        <span class="c1"># the callback for a specific HC-SR04</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sonar_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sonar_count</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dht_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dht_count</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># serial port in use</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># generic asyncio task holder</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">the_task</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># flag to indicate we are in shutdown mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_flag</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># reported features</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reported_features</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># To add a command to the command dispatch table, append here.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">LOOP_COMMAND</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_report_loop_data</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DEBUG_PRINT</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_report_debug_data</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DIGITAL_REPORT</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_digital_message</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">ANALOG_REPORT</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_analog_message</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SERVO_UNAVAILABLE</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_servo_unavailable</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">I2C_READ_REPORT</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_i2c_read_report</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">I2C_TOO_FEW_BYTES_RCVD</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_i2c_too_few</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">I2C_TOO_MANY_BYTES_RCVD</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_i2c_too_many</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SONAR_DISTANCE</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sonar_distance_report</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DHT_REPORT</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dht_report</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_REPORT</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_spi_report</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">ONE_WIRE_REPORT</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_onewire_report</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STEPPER_DISTANCE_TO_GO</span><span class="p">:</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">_stepper_distance_to_go_report</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STEPPER_TARGET_POSITION</span><span class="p">:</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">_stepper_target_position_report</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STEPPER_CURRENT_POSITION</span><span class="p">:</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">_stepper_current_position_report</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STEPPER_RUNNING_REPORT</span><span class="p">:</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">_stepper_is_running_report</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STEPPER_RUN_COMPLETE_REPORT</span><span class="p">:</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">_stepper_run_complete_report</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STEPPER_DISTANCE_TO_GO</span><span class="p">:</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">_stepper_distance_to_go_report</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STEPPER_TARGET_POSITION</span><span class="p">:</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">_stepper_target_position_report</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">FEATURES</span><span class="p">:</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">_features_report</span><span class="p">})</span>

        <span class="c1"># dictionaries to store the callbacks for each pin</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">analog_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">digital_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">i2c_callback</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i2c_callback2</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">i2c_1_active</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i2c_2_active</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">spi_callback</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">onewire_callback</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cs_pins_enabled</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># flag to indicate if spi is initialized</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spi_enabled</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># flag to indicate if onewire is initialized</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">onewire_enabled</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># the trigger pin will be the key to retrieve</span>
        <span class="c1"># the callback for a specific HC-SR04</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sonar_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sonar_count</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dht_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># # stepper motor variables</span>
        <span class="c1">#</span>
        <span class="c1"># # updated when a new motor is added</span>
        <span class="c1"># self.next_stepper_assigned = 0</span>
        <span class="c1">#</span>
        <span class="c1"># # valid list of stepper motor interface types</span>
        <span class="c1"># self.valid_stepper_interfaces = [1, 2, 3, 4, 6, 8]</span>
        <span class="c1">#</span>
        <span class="c1"># # maximum number of steppers supported</span>
        <span class="c1"># self.max_number_of_steppers = 4</span>
        <span class="c1">#</span>
        <span class="c1"># # number of steppers created - not to exceed the maximum</span>
        <span class="c1"># self.number_of_steppers = 0</span>
        <span class="c1">#</span>
        <span class="c1"># # dictionary to hold stepper motor information</span>
        <span class="c1"># self.stepper_info = {&#39;instance&#39;: False, &#39;is_running&#39;: None,</span>
        <span class="c1">#                      &#39;maximum_speed&#39;: 1, &#39;speed&#39;: 0, &#39;acceleration&#39;: 0,</span>
        <span class="c1">#                      &#39;distance_to_go_callback&#39;: None,</span>
        <span class="c1">#                      &#39;target_position_callback&#39;: None,</span>
        <span class="c1">#                      &#39;current_position_callback&#39;: None,</span>
        <span class="c1">#                      &#39;is_running_callback&#39;: None,</span>
        <span class="c1">#                      &#39;motion_complete_callback&#39;: None,</span>
        <span class="c1">#                      &#39;acceleration_callback&#39;: None}</span>
        <span class="c1">#</span>
        <span class="c1"># # build a list of stepper motor info items</span>
        <span class="c1"># self.stepper_info_list = []</span>
        <span class="c1"># # a list of dictionaries to hold stepper information</span>
        <span class="c1"># for motor in range(self.max_number_of_steppers):</span>
        <span class="c1">#     self.stepper_info_list.append(self.stepper_info)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;telemetrix_uno_r4_minima_aio Version:&#39;</span>
              <span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">TELEMETRIX_AIO_VERSION</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Copyright (c) 2023 Alan Yorinks All rights reserved.</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">autostart</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start_aio</span><span class="p">())</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">start_aio</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This method may be called directly, if the autostart</span>
<span class="sd">        parameter in __init__ is set to false.</span>

<span class="sd">        This method instantiates the serial interface and then performs auto pin</span>
<span class="sd">        discovery if using a serial interface, or creates and connects to</span>
<span class="sd">        a TCP/IP enabled device running StandardFirmataWiFi.</span>

<span class="sd">        Use this method if you wish to start TelemetrixAIO manually from</span>
<span class="sd">        an asyncio function.</span>
<span class="sd">         &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">com_port</span><span class="p">:</span>
            <span class="c1"># user did not specify a com_port</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_arduino</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># com_port specified - set com_port and baud rate</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manual_open</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">com_port</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Telemetrix4UnoR4 found and connected to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">com_port</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

            <span class="c1"># no com_port found - raise a runtime exception</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;No Arduino Found or User Aborted Program&#39;</span><span class="p">)</span>

        <span class="c1"># get arduino firmware version and print it</span>
        <span class="n">firmware_version</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_firmware_version</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">firmware_version</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*** Firmware Version retrieval timed out. ***&#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Do you have Arduino connectivity and do you have the &#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Telemetrix4UnoR4 sketch uploaded to the board and are connected&#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;to the correct serial port.</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;To see a list of serial ports, type: &#39;</span>
                  <span class="s1">&#39;&quot;list_serial_ports&quot; in your console.&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span>
        <span class="k">else</span><span class="p">:</span>

            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Telemetrix4UnoR4 Version Number: </span><span class="si">{</span><span class="n">firmware_version</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s1">.&#39;</span>
                  <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">firmware_version</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">firmware_version</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="c1"># start the command dispatcher loop</span>
            <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">ENABLE_ALL_REPORTS</span><span class="p">]</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">the_task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_arduino_report_dispatcher</span><span class="p">())</span>

            <span class="c1"># get the features list</span>
            <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">GET_FEATURES</span><span class="p">]</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.5</span><span class="p">)</span>

            <span class="c1"># Have the server reset its data structures</span>
            <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">RESET</span><span class="p">]</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_event_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the currently active asyncio event loop</span>

<span class="sd">        :return: Active event loop</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">loop</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_find_arduino</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This method will search all potential serial ports for an Arduino</span>
<span class="sd">        containing a sketch that has a matching arduino_instance_id as</span>
<span class="sd">        specified in the input parameters of this class.</span>

<span class="sd">        This is used explicitly with the FirmataExpress sketch.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># a list of serial ports to be checked</span>
        <span class="n">serial_ports</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Opening all potential serial ports...&#39;</span><span class="p">)</span>
        <span class="n">the_ports_list</span> <span class="o">=</span> <span class="n">list_ports</span><span class="o">.</span><span class="n">comports</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">port</span> <span class="ow">in</span> <span class="n">the_ports_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">port</span><span class="o">.</span><span class="n">pid</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Checking </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">port</span><span class="o">.</span><span class="n">device</span><span class="p">))</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span> <span class="o">=</span> <span class="n">TelemetrixAioSerial</span><span class="p">(</span><span class="n">port</span><span class="o">.</span><span class="n">device</span><span class="p">,</span> <span class="mi">115200</span><span class="p">,</span>
                                                       <span class="n">telemetrix_aio_instance</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                                                       <span class="n">close_loop_on_error</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">close_loop_on_shutdown</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">SerialException</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="c1"># create a list of serial ports that we opened</span>
            <span class="n">serial_ports</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span><span class="p">)</span>

            <span class="c1"># display to the user</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">port</span><span class="o">.</span><span class="n">device</span><span class="p">)</span>

            <span class="c1"># clear out any possible data in the input buffer</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span><span class="o">.</span><span class="n">reset_input_buffer</span><span class="p">()</span>

        <span class="c1"># wait for arduino to reset</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Waiting </span><span class="si">{}</span><span class="s1"> seconds(arduino_wait) for Arduino devices to &#39;</span>
              <span class="s1">&#39;reset...&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arduino_wait</span><span class="p">))</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arduino_wait</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Searching for an Arduino configured with an arduino_instance = &#39;</span><span class="p">,</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">arduino_instance_id</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">serial_port</span> <span class="ow">in</span> <span class="n">serial_ports</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span> <span class="o">=</span> <span class="n">serial_port</span>

            <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">ARE_U_THERE</span><span class="p">]</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
            <span class="c1"># provide time for the reply</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.1</span><span class="p">)</span>

            <span class="n">i_am_here</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">i_am_here</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="c1"># got an I am here message - is it the correct ID?</span>
            <span class="k">if</span> <span class="n">i_am_here</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">arduino_instance_id</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">com_port</span> <span class="o">=</span> <span class="n">serial_port</span><span class="o">.</span><span class="n">com_port</span>
                <span class="k">return</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_manual_open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Com port was specified by the user - try to open up that port</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># if port is not found, a serial exception will be thrown</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Opening </span><span class="si">{}</span><span class="s1"> ...&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">com_port</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span> <span class="o">=</span> <span class="n">TelemetrixAioSerial</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">com_port</span><span class="p">,</span> <span class="mi">115200</span><span class="p">,</span>
                                               <span class="n">telemetrix_aio_instance</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                                               <span class="n">close_loop_on_error</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">close_loop_on_shutdown</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Waiting </span><span class="si">{}</span><span class="s1"> seconds for the Arduino To Reset.&#39;</span>
              <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arduino_wait</span><span class="p">))</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arduino_wait</span><span class="p">)</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">ARE_U_THERE</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="c1"># provide time for the reply</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.1</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Searching for correct arduino_instance_id: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">arduino_instance_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">i_am_here</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">i_am_here</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ERROR: correct arduino_instance_id not found&#39;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Correct arduino_instance_id found&#39;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_get_firmware_version</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This method retrieves the Arduino4Telemetrix firmware version</span>

<span class="sd">        :returns: Firmata firmware version</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">GET_FIRMWARE_VERSION</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="c1"># provide time for the reply</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.1</span><span class="p">)</span>
        <span class="n">firmware_version</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">firmware_version</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">analog_write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the specified pin to the specified value.</span>

<span class="sd">        :param pin: arduino pin number</span>

<span class="sd">        :param value: pin value (maximum 16 bits)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value_msb</span> <span class="o">=</span> <span class="n">value</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span>
        <span class="n">value_lsb</span> <span class="o">=</span> <span class="n">value</span> <span class="o">&amp;</span> <span class="mh">0xff</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">ANALOG_WRITE</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">value_msb</span><span class="p">,</span> <span class="n">value_lsb</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">digital_write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the specified pin to the specified value.</span>

<span class="sd">        :param pin: arduino pin number</span>

<span class="sd">        :param value: pin value (1 or 0)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DIGITAL_WRITE</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">value</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">i2c_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">register</span><span class="p">,</span> <span class="n">number_of_bytes</span><span class="p">,</span>
                       <span class="n">callback</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                       <span class="n">write_register</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read the specified number of bytes from the specified register for</span>
<span class="sd">        the i2c device.</span>


<span class="sd">        :param address: i2c device address</span>

<span class="sd">        :param register: i2c register (or None if no register selection is needed)</span>

<span class="sd">        :param number_of_bytes: number of bytes to be read</span>

<span class="sd">        :param callback: Required callback function to report i2c data as a</span>
<span class="sd">                   result of read command</span>

<span class="sd">        :param i2c_port: select the default port (0) or secondary port (1)</span>

<span class="sd">        :param write_register: If True, the register is written</span>
<span class="sd">                                       before read</span>
<span class="sd">                              Else, the write is suppressed</span>


<span class="sd">        callback returns a data list:</span>

<span class="sd">        [I2C_READ_REPORT, address, register, count of data bytes,</span>
<span class="sd">         data bytes, time-stamp]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;i2c_read: A Callback must be specified&#39;</span><span class="p">)</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_i2c_read_request</span><span class="p">(</span><span class="n">address</span><span class="p">,</span> <span class="n">register</span><span class="p">,</span> <span class="n">number_of_bytes</span><span class="p">,</span>
                                     <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="n">i2c_port</span><span class="p">,</span>
                                     <span class="n">write_register</span><span class="o">=</span><span class="n">write_register</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">i2c_read_restart_transmission</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">register</span><span class="p">,</span>
                                            <span class="n">number_of_bytes</span><span class="p">,</span>
                                            <span class="n">callback</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                            <span class="n">write_register</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read the specified number of bytes from the specified register for</span>
<span class="sd">        the i2c device. This restarts the transmission after the read. It is</span>
<span class="sd">        required for some i2c devices such as the MMA8452Q accelerometer.</span>


<span class="sd">        :param address: i2c device address</span>

<span class="sd">        :param register: i2c register (or None if no register</span>
<span class="sd">                                                    selection is needed)</span>

<span class="sd">        :param number_of_bytes: number of bytes to be read</span>

<span class="sd">        :param callback: Required callback function to report i2c data as a</span>
<span class="sd">                   result of read command</span>

<span class="sd">        :param i2c_port: select the default port (0) or secondary port (1)</span>

<span class="sd">        :param write_register: If True, the register is written</span>
<span class="sd">                                       before read</span>
<span class="sd">                              Else, the write is suppressed</span>

<span class="sd">        callback returns a data list:</span>

<span class="sd">        [I2C_READ_REPORT, address, register, count of data bytes,</span>
<span class="sd">         data bytes, time-stamp]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s1">&#39;i2c_read_restart_transmission: A Callback must be specified&#39;</span><span class="p">)</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_i2c_read_request</span><span class="p">(</span><span class="n">address</span><span class="p">,</span> <span class="n">register</span><span class="p">,</span> <span class="n">number_of_bytes</span><span class="p">,</span>
                                     <span class="n">stop_transmission</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                     <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="n">i2c_port</span><span class="p">,</span>
                                     <span class="n">write_register</span><span class="o">=</span><span class="n">write_register</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_i2c_read_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">register</span><span class="p">,</span> <span class="n">number_of_bytes</span><span class="p">,</span>
                                <span class="n">stop_transmission</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">i2c_port</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">write_register</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This method requests the read of an i2c device. Results are retrieved</span>
<span class="sd">        via callback.</span>

<span class="sd">        :param address: i2c device address</span>

<span class="sd">        :param register: register number (or None if no register selection is needed)</span>

<span class="sd">        :param number_of_bytes: number of bytes expected to be returned</span>

<span class="sd">        :param stop_transmission: stop transmission after read</span>

<span class="sd">        :param callback: Required callback function to report i2c data as a</span>
<span class="sd">                   result of read command.</span>

<span class="sd">       :param i2c_port: select the default port (0) or secondary port (1)</span>

<span class="sd">       :param write_register: If True, the register is written</span>
<span class="sd">                                       before read</span>
<span class="sd">                              Else, the write is suppressed</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">i2c_port</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2c_1_active</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s1">&#39;I2C Read: set_pin_mode i2c never called for i2c port 1.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">i2c_port</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2c_2_active</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s1">&#39;I2C Read: set_pin_mode i2c never called for i2c port 2.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;I2C Read: A callback function must be specified.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">i2c_port</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">i2c_callback</span> <span class="o">=</span> <span class="n">callback</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">i2c_callback2</span> <span class="o">=</span> <span class="n">callback</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">register</span><span class="p">:</span>
            <span class="n">register</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="n">write_register</span><span class="p">:</span>
            <span class="n">write_register</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">write_register</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># message contains:</span>
        <span class="c1"># 1. address</span>
        <span class="c1"># 2. register</span>
        <span class="c1"># 3. number of bytes</span>
        <span class="c1"># 4. restart_transmission - True or False</span>
        <span class="c1"># 5. i2c port</span>
        <span class="c1"># 6. suppress write flag</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">I2C_READ</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">register</span><span class="p">,</span> <span class="n">number_of_bytes</span><span class="p">,</span>
                   <span class="n">stop_transmission</span><span class="p">,</span> <span class="n">i2c_port</span><span class="p">,</span> <span class="n">write_register</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">i2c_write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Write data to an i2c device.</span>

<span class="sd">        :param address: i2c device address</span>

<span class="sd">        :param i2c_port: 0= port 1, 1 = port 2</span>

<span class="sd">        :param args: A variable number of bytes to be sent to the device</span>
<span class="sd">                     passed in as a list</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">i2c_port</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2c_1_active</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s1">&#39;I2C Write: set_pin_mode i2c never called for i2c port 1.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">i2c_port</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2c_2_active</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s1">&#39;I2C Write: set_pin_mode i2c never called for i2c port 2.&#39;</span><span class="p">)</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">I2C_WRITE</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="n">address</span><span class="p">,</span> <span class="n">i2c_port</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">loop_back</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_character</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This is a debugging method to send a character to the</span>
<span class="sd">        Arduino device, and have the device loop it back.</span>

<span class="sd">        :param start_character: The character to loop back. It should be</span>
<span class="sd">                                an integer.</span>

<span class="sd">        :param callback: Looped back character will appear in the callback method</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;loop_back: A callback function must be specified.&#39;</span><span class="p">)</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">LOOP_COMMAND</span><span class="p">,</span> <span class="nb">ord</span><span class="p">(</span><span class="n">start_character</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loop_back_callback</span> <span class="o">=</span> <span class="n">callback</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_analog_scan_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the analog scanning interval.</span>

<span class="sd">        :param interval: value of 0 - 255 - milliseconds</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">interval</span> <span class="o">&lt;=</span> <span class="mi">255</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SET_ANALOG_SCANNING_INTERVAL</span><span class="p">,</span> <span class="n">interval</span><span class="p">]</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;Analog interval must be between 0 and 255&#39;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_analog_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span> <span class="n">differential</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set a pin as an analog input.</span>

<span class="sd">        :param pin_number: arduino pin number</span>

<span class="sd">        :param callback: async callback function</span>

<span class="sd">        :param differential: difference in previous to current value before</span>
<span class="sd">                             report will be generated</span>

<span class="sd">        callback returns a data list:</span>

<span class="sd">        [pin_type, pin_number, pin_value, raw_time_stamp]</span>

<span class="sd">        The pin_type for analog input pins = 3</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s1">&#39;set_pin_mode_analog_input: A callback function must be specified.&#39;</span><span class="p">)</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_pin_mode</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_ANALOG</span><span class="p">,</span>
                                 <span class="n">differential</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_analog_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Set a pin as a pwm (analog output) pin.</span>

<span class="sd">        :param pin_number:arduino pin number</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_pin_mode</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_OUTPUT</span><span class="p">,</span> <span class="n">differential</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                 <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_digital_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set a pin as a digital input.</span>

<span class="sd">        :param pin_number: arduino pin number</span>

<span class="sd">        :param callback: async callback function</span>

<span class="sd">        callback returns a data list:</span>

<span class="sd">        [pin_type, pin_number, pin_value, raw_time_stamp]</span>

<span class="sd">        The pin_type for all digital input pins = 2</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_pin_mode</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_INPUT</span><span class="p">,</span> <span class="n">differential</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                 <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_digital_input_pullup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set a pin as a digital input with pullup enabled.</span>

<span class="sd">        :param pin_number: arduino pin number</span>

<span class="sd">        :param callback: async callback function</span>

<span class="sd">        callback returns a data list:</span>

<span class="sd">        [pin_type, pin_number, pin_value, raw_time_stamp]</span>

<span class="sd">        The pin_type for all digital input pins = 2</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s1">&#39;set_pin_mode_digital_input_pullup: A callback function must be specified.&#39;</span><span class="p">)</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_pin_mode</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_INPUT_PULLUP</span><span class="p">,</span>
                                 <span class="n">differential</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_digital_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set a pin as a digital output pin.</span>

<span class="sd">        :param pin_number: arduino pin number</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_pin_mode</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_OUTPUT</span><span class="p">,</span> <span class="n">differential</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                 <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="c1"># noinspection PyIncorrectDocstring</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_i2c</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Establish the standard Arduino i2c pins for i2c utilization.</span>

<span class="sd">        :param i2c_port: 0 = i2c1, 1 = i2c2</span>

<span class="sd">        NOTES: 1. THIS METHOD MUST BE CALLED BEFORE ANY I2C REQUEST IS MADE</span>
<span class="sd">               2. Callbacks are set within the individual i2c read methods of this</span>
<span class="sd">              API.</span>

<span class="sd">              See i2c_read, or i2c_read_restart_transmission.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># test for i2c port 2</span>
        <span class="k">if</span> <span class="n">i2c_port</span><span class="p">:</span>
            <span class="c1"># if not previously activated set it to activated</span>
            <span class="c1"># and the send a begin message for this port</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2c_2_active</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">i2c_2_active</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span>
        <span class="c1"># port 1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2c_1_active</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">i2c_1_active</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">I2C_BEGIN</span><span class="p">,</span> <span class="n">i2c_port</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_dht</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dht_type</span><span class="o">=</span><span class="mi">22</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param pin: connection pin</span>

<span class="sd">        :param callback: callback function</span>

<span class="sd">        :param dht_type: either 22 for DHT22 or 11 for DHT11</span>

<span class="sd">        Error Callback: [DHT REPORT Type, DHT_ERROR_NUMBER, PIN, DHT_TYPE, Time]</span>

<span class="sd">        Valid Data Callback: DHT REPORT Type, DHT_DATA=, PIN, DHT_TYPE, Humidity,</span>
<span class="sd">        Temperature,</span>
<span class="sd">        Time]</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reported_features</span> <span class="o">&amp;</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DHT_FEATURE</span><span class="p">:</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;set_pin_mode_dht: A Callback must be specified&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dht_count</span> <span class="o">&lt;</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">MAX_DHTS</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dht_callbacks</span><span class="p">[</span><span class="n">pin</span><span class="p">]</span> <span class="o">=</span> <span class="n">callback</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dht_count</span> <span class="o">+=</span> <span class="mi">1</span>

                <span class="k">if</span> <span class="n">dht_type</span> <span class="o">!=</span> <span class="mi">22</span> <span class="ow">and</span> <span class="n">dht_type</span> <span class="o">!=</span> <span class="mi">11</span><span class="p">:</span>
                    <span class="n">dht_type</span> <span class="o">=</span> <span class="mi">22</span>

                <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DHT_NEW</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">dht_type</span><span class="p">]</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;Maximum Number Of DHTs Exceeded - set_pin_mode_dht fails for pin </span><span class="si">{</span><span class="n">pin</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The DHT feature is disabled in the server.&#39;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_servo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span> <span class="n">min_pulse</span><span class="o">=</span><span class="mi">544</span><span class="p">,</span> <span class="n">max_pulse</span><span class="o">=</span><span class="mi">2400</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Attach a pin to a servo motor</span>

<span class="sd">        :param pin_number: pin</span>

<span class="sd">        :param min_pulse: minimum pulse width</span>

<span class="sd">        :param max_pulse: maximum pulse width</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reported_features</span> <span class="o">&amp;</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SERVO_FEATURE</span><span class="p">:</span>

            <span class="n">minv</span> <span class="o">=</span> <span class="p">(</span><span class="n">min_pulse</span><span class="p">)</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">byteorder</span><span class="o">=</span><span class="s2">&quot;big&quot;</span><span class="p">)</span>
            <span class="n">maxv</span> <span class="o">=</span> <span class="p">(</span><span class="n">max_pulse</span><span class="p">)</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">byteorder</span><span class="o">=</span><span class="s2">&quot;big&quot;</span><span class="p">)</span>

            <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SERVO_ATTACH</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span>
                       <span class="n">minv</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">minv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">maxv</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">maxv</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The SERVO feature is disabled in the server.&#39;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_sonar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger_pin</span><span class="p">,</span> <span class="n">echo_pin</span><span class="p">,</span>
                                 <span class="n">callback</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param trigger_pin:</span>

<span class="sd">        :param echo_pin:</span>

<span class="sd">        :param callback:  callback</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reported_features</span> <span class="o">&amp;</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SONAR_FEATURE</span><span class="p">:</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;set_pin_mode_sonar: A Callback must be specified&#39;</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sonar_count</span> <span class="o">&lt;</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">MAX_SONARS</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sonar_callbacks</span><span class="p">[</span><span class="n">trigger_pin</span><span class="p">]</span> <span class="o">=</span> <span class="n">callback</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sonar_count</span> <span class="o">+=</span> <span class="mi">1</span>

                <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SONAR_NEW</span><span class="p">,</span> <span class="n">trigger_pin</span><span class="p">,</span> <span class="n">echo_pin</span><span class="p">]</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;Maximum Number Of Sonars Exceeded - set_pin_mode_sonar fails for pin </span><span class="si">{</span><span class="n">trigger_pin</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The SONAR feature is disabled in the server.&#39;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_spi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chip_select_list</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Specify the list of chip select pins.</span>

<span class="sd">        Standard Arduino MISO, MOSI and CLK pins are used for the board in use.</span>

<span class="sd">        Chip Select is any digital output capable pin.</span>

<span class="sd">        :param chip_select_list: this is a list of pins to be used for chip select.</span>
<span class="sd">                           The pins will be configured as output, and set to high</span>
<span class="sd">                           ready to be used for chip select.</span>
<span class="sd">                           NOTE: You must specify the chips select pins here!</span>


<span class="sd">        command message: [command, number of cs pins, [cs pins...]]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reported_features</span> <span class="o">&amp;</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_FEATURE</span><span class="p">:</span>

            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">chip_select_list</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;chip_select_list must be in the form of a list&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">chip_select_list</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;Chip select pins were not specified&#39;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">spi_enabled</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_INIT</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">chip_select_list</span><span class="p">)]</span>

            <span class="k">for</span> <span class="n">pin</span> <span class="ow">in</span> <span class="n">chip_select_list</span><span class="p">:</span>
                <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cs_pins_enabled</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The SPI feature is disabled in the server.&#39;</span><span class="p">)</span>

    <span class="c1"># async def set_pin_mode_stepper(self, interface=1, pin1=2, pin2=3, pin3=4,</span>
    <span class="c1">#                          pin4=5, enable=True):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Stepper motor support is implemented as a proxy for the</span>
    <span class="c1">#     the AccelStepper library for the Arduino.</span>
    <span class="c1">#</span>
    <span class="c1">#     This feature is compatible with the TB6600 Motor Driver</span>
    <span class="c1">#</span>
    <span class="c1">#     Note: It may not work for other driver types!</span>
    <span class="c1">#</span>
    <span class="c1">#     https://github.com/waspinator/AccelStepper</span>
    <span class="c1">#</span>
    <span class="c1">#     Instantiate a stepper motor.</span>
    <span class="c1">#</span>
    <span class="c1">#     Initialize the interface and pins for a stepper motor.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param interface: Motor Interface Type:</span>
    <span class="c1">#</span>
    <span class="c1">#             1 = Stepper Driver, 2 driver pins required</span>
    <span class="c1">#</span>
    <span class="c1">#             2 = FULL2WIRE  2 wire stepper, 2 motor pins required</span>
    <span class="c1">#</span>
    <span class="c1">#             3 = FULL3WIRE 3 wire stepper, such as HDD spindle,</span>
    <span class="c1">#                 3 motor pins required</span>
    <span class="c1">#</span>
    <span class="c1">#             4 = FULL4WIRE, 4 wire full stepper, 4 motor pins</span>
    <span class="c1">#                 required</span>
    <span class="c1">#</span>
    <span class="c1">#             6 = HALF3WIRE, 3 wire half stepper, such as HDD spindle,</span>
    <span class="c1">#                 3 motor pins required</span>
    <span class="c1">#</span>
    <span class="c1">#             8 = HALF4WIRE, 4 wire half stepper, 4 motor pins required</span>
    <span class="c1">#</span>
    <span class="c1">#     :param pin1: Arduino digital pin number for motor pin 1</span>
    <span class="c1">#</span>
    <span class="c1">#     :param pin2: Arduino digital pin number for motor pin 2</span>
    <span class="c1">#</span>
    <span class="c1">#     :param pin3: Arduino digital pin number for motor pin 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param pin4: Arduino digital pin number for motor pin 4</span>
    <span class="c1">#</span>
    <span class="c1">#     :param enable: If this is true, the output pins at construction time.</span>
    <span class="c1">#</span>
    <span class="c1">#     :return: Motor Reference number</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if self.reported_features &amp; PrivateConstants.STEPPERS_FEATURE:</span>
    <span class="c1">#</span>
    <span class="c1">#         if self.number_of_steppers == self.max_number_of_steppers:</span>
    <span class="c1">#             if self.shutdown_on_exception:</span>
    <span class="c1">#                 await self.shutdown()</span>
    <span class="c1">#             raise RuntimeError(&#39;Maximum number of steppers has already been assigned&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#         if interface not in self.valid_stepper_interfaces:</span>
    <span class="c1">#             if self.shutdown_on_exception:</span>
    <span class="c1">#                 await self.shutdown()</span>
    <span class="c1">#             raise RuntimeError(&#39;Invalid stepper interface&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#         self.number_of_steppers += 1</span>
    <span class="c1">#</span>
    <span class="c1">#         motor_id = self.next_stepper_assigned</span>
    <span class="c1">#         self.next_stepper_assigned += 1</span>
    <span class="c1">#         self.stepper_info_list[motor_id][&#39;instance&#39;] = True</span>
    <span class="c1">#</span>
    <span class="c1">#         # build message and send message to server</span>
    <span class="c1">#         command = [PrivateConstants.SET_PIN_MODE_STEPPER, motor_id, interface, pin1,</span>
    <span class="c1">#                    pin2, pin3, pin4, enable]</span>
    <span class="c1">#         await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1">#         # return motor id</span>
    <span class="c1">#         return motor_id</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(f&#39;The Stepper feature is disabled in the server.&#39;)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">sonar_disable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Disable sonar scanning for all sonar sensors</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SONAR_DISABLE</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">sonar_enable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enable sonar scanning for all sonar sensors</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SONAR_ENABLE</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">spi_cs_control</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chip_select_pin</span><span class="p">,</span> <span class="n">select</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Control an SPI chip select line</span>
<span class="sd">        :param chip_select_pin: pin connected to CS</span>

<span class="sd">        :param select: 0=select, 1=deselect</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">spi_enabled</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_cs_control: SPI interface is not enabled.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">chip_select_pin</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cs_pins_enabled</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_cs_control: chip select pin never enabled.&#39;</span><span class="p">)</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_CS_CONTROL</span><span class="p">,</span> <span class="n">chip_select_pin</span><span class="p">,</span> <span class="n">select</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">spi_read_blocking</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chip_select</span><span class="p">,</span> <span class="n">register_selection</span><span class="p">,</span>
                                <span class="n">number_of_bytes_to_read</span><span class="p">,</span>
                          <span class="n">call_back</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read the specified number of bytes from the specified SPI port and</span>
<span class="sd">        call the callback function with the reported data.</span>

<span class="sd">        :param chip_select: chip select pin</span>

<span class="sd">        :param register_selection: Register to be selected for read.</span>

<span class="sd">        :param number_of_bytes_to_read: Number of bytes to read</span>

<span class="sd">        :param call_back: Required callback function to report spi data as a</span>
<span class="sd">                   result of read command</span>


<span class="sd">        callback returns a data list:</span>
<span class="sd">            [SPI_READ_REPORT, chip select pin, SPI Register, count of data bytes read,</span>
<span class="sd">             data bytes, time-stamp]</span>
<span class="sd">        SPI_READ_REPORT = 13</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">spi_enabled</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_read_blocking: SPI interface is not enabled.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">call_back</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;spi_read_blocking: A Callback must be specified&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">spi_callback</span> <span class="o">=</span> <span class="n">call_back</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_READ_BLOCKING</span><span class="p">,</span> <span class="n">chip_select</span><span class="p">,</span>
                   <span class="n">number_of_bytes_to_read</span><span class="p">,</span>
                   <span class="n">register_selection</span><span class="p">]</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">spi_set_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clock_divisor</span><span class="p">,</span> <span class="n">bit_order</span><span class="p">,</span> <span class="n">data_mode</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Configure how the SPI serializes and de-serializes data on the wire.</span>

<span class="sd">        See Arduino SPI reference materials for details.</span>

<span class="sd">        :param clock_divisor: 1 - 255</span>

<span class="sd">        :param bit_order:</span>

<span class="sd">                            LSBFIRST = 0</span>

<span class="sd">                            MSBFIRST = 1 (default)</span>

<span class="sd">        :param data_mode:</span>

<span class="sd">                            SPI_MODE0 = 0x00 (default)</span>

<span class="sd">                            SPI_MODE1  = 1</span>

<span class="sd">                            SPI_MODE2 = 2</span>

<span class="sd">                            SPI_MODE3 = 3</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">spi_enabled</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_set_format: SPI interface is not enabled.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">clock_divisor</span> <span class="o">&lt;=</span> <span class="mi">255</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_set_format: illegal clock divisor selected.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">bit_order</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_set_format: illegal bit_order selected.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">data_mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_set_format: illegal data_order selected.&#39;</span><span class="p">)</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_SET_FORMAT</span><span class="p">,</span> <span class="n">clock_divisor</span><span class="p">,</span> <span class="n">bit_order</span><span class="p">,</span>
                   <span class="n">data_mode</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">spi_write_blocking</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chip_select</span><span class="p">,</span> <span class="n">bytes_to_write</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Write a list of bytes to the SPI device.</span>

<span class="sd">        :param chip_select: chip select pin</span>

<span class="sd">        :param bytes_to_write: A list of bytes to write. This must</span>
<span class="sd">                                be in the form of a list.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">spi_enabled</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_write_blocking: SPI interface is not enabled.&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">bytes_to_write</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">list</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;spi_write_blocking: bytes_to_write must be a list.&#39;</span><span class="p">)</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_WRITE_BLOCKING</span><span class="p">,</span> <span class="n">chip_select</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">bytes_to_write</span><span class="p">)]</span>

        <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">bytes_to_write</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="c1"># async def set_pin_mode_one_wire(self, pin):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Initialize the one wire serial bus.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param pin: Data pin connected to the OneWire device</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     self.onewire_enabled = True</span>
    <span class="c1">#     command = [PrivateConstants.ONE_WIRE_INIT, pin]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def onewire_reset(self, callback=None):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Reset the onewire device</span>
    <span class="c1">#</span>
    <span class="c1">#     :param callback: required  function to report reset result</span>
    <span class="c1">#</span>
    <span class="c1">#     callback returns a list:</span>
    <span class="c1">#     [ReportType = 14, Report Subtype = 25, reset result byte,</span>
    <span class="c1">#                     timestamp]</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.onewire_enabled:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(f&#39;onewire_reset: OneWire interface is not enabled.&#39;)</span>
    <span class="c1">#     if not callback:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;onewire_reset: A Callback must be specified&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     self.onewire_callback = callback</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.ONE_WIRE_RESET]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def onewire_select(self, device_address):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Select a device based on its address</span>
    <span class="c1">#     :param device_address: A bytearray of 8 bytes</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.onewire_enabled:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(f&#39;onewire_select: OneWire interface is not enabled.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if type(device_address) is not list:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;onewire_select: device address must be an array of 8 &#39;</span>
    <span class="c1">#                            &#39;bytes.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if len(device_address) != 8:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;onewire_select: device address must be an array of 8 &#39;</span>
    <span class="c1">#                            &#39;bytes.&#39;)</span>
    <span class="c1">#     command = [PrivateConstants.ONE_WIRE_SELECT]</span>
    <span class="c1">#     for data in device_address:</span>
    <span class="c1">#         command.append(data)</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def onewire_skip(self):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Skip the device selection. This only works if you have a</span>
    <span class="c1">#     single device, but you can avoid searching and use this to</span>
    <span class="c1">#     immediately access your device.</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.onewire_enabled:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(f&#39;onewire_skip: OneWire interface is not enabled.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.ONE_WIRE_SKIP]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def onewire_write(self, data, power=0):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Write a byte to the onewire device. If &#39;power&#39; is one</span>
    <span class="c1">#     then the wire is held high at the end for</span>
    <span class="c1">#     parasitically powered devices. You</span>
    <span class="c1">#     are responsible for eventually de-powering it by calling</span>
    <span class="c1">#     another read or write.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param data: byte to write.</span>
    <span class="c1">#     :param power: power control (see above)</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.onewire_enabled:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(f&#39;onewire_write: OneWire interface is not enabled.&#39;)</span>
    <span class="c1">#     if 0 &lt; data &lt; 255:</span>
    <span class="c1">#         command = [PrivateConstants.ONE_WIRE_WRITE, data, power]</span>
    <span class="c1">#         await self._send_command(command)</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;onewire_write: Data must be no larger than 255&#39;)</span>
    <span class="c1">#</span>
    <span class="c1"># async def onewire_read(self, callback=None):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Read a byte from the onewire device</span>
    <span class="c1">#     :param callback: required  function to report onewire data as a</span>
    <span class="c1">#                result of read command</span>
    <span class="c1">#</span>
    <span class="c1">#</span>
    <span class="c1">#     callback returns a data list:</span>
    <span class="c1">#     [ONEWIRE_REPORT, ONEWIRE_READ=29, data byte, time-stamp]</span>
    <span class="c1">#</span>
    <span class="c1">#     ONEWIRE_REPORT = 14</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.onewire_enabled:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(f&#39;onewire_read: OneWire interface is not enabled.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if not callback:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;onewire_read A Callback must be specified&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     self.onewire_callback = callback</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.ONE_WIRE_READ]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def onewire_reset_search(self):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Begin a new search. The next use of search will begin at the first device</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="c1">#     if not self.onewire_enabled:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(f&#39;onewire_reset_search: OneWire interface is not &#39;</span>
    <span class="c1">#                            f&#39;enabled.&#39;)</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         command = [PrivateConstants.ONE_WIRE_RESET_SEARCH]</span>
    <span class="c1">#         await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def onewire_search(self, callback=None):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Search for the next device. The device address will returned in the callback.</span>
    <span class="c1">#     If a device is found, the 8 byte address is contained in the callback.</span>
    <span class="c1">#     If no more devices are found, the address returned contains all elements set</span>
    <span class="c1">#     to 0xff.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param callback: required  function to report a onewire device address</span>
    <span class="c1">#</span>
    <span class="c1">#     callback returns a data list:</span>
    <span class="c1">#     [ONEWIRE_REPORT, ONEWIRE_SEARCH=31, 8 byte address, time-stamp]</span>
    <span class="c1">#</span>
    <span class="c1">#     ONEWIRE_REPORT = 14</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.onewire_enabled:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(f&#39;onewire_search: OneWire interface is not enabled.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if not callback:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;onewire_read A Callback must be specified&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     self.onewire_callback = callback</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.ONE_WIRE_SEARCH]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def onewire_crc8(self, address_list, callback=None):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Compute a CRC check on an array of data.</span>
    <span class="c1">#     :param address_list:</span>
    <span class="c1">#</span>
    <span class="c1">#     :param callback: required  function to report a onewire device address</span>
    <span class="c1">#</span>
    <span class="c1">#     callback returns a data list:</span>
    <span class="c1">#     [ONEWIRE_REPORT, ONEWIRE_CRC8=32, CRC, time-stamp]</span>
    <span class="c1">#</span>
    <span class="c1">#     ONEWIRE_REPORT = 14</span>
    <span class="c1">#</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="c1">#     if not self.onewire_enabled:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(f&#39;onewire_crc8: OneWire interface is not enabled.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if not callback:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;onewire_crc8 A Callback must be specified&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if type(address_list) is not list:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;onewire_crc8: address list must be a list.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     self.onewire_callback = callback</span>
    <span class="c1">#</span>
    <span class="c1">#     address_length = len(address_list)</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.ONE_WIRE_CRC8, address_length - 1]</span>
    <span class="c1">#</span>
    <span class="c1">#     for data in address_list:</span>
    <span class="c1">#         command.append(data)</span>
    <span class="c1">#</span>
    <span class="c1">#     await self._send_command(command)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_set_pin_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span> <span class="n">pin_state</span><span class="p">,</span> <span class="n">differential</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A private method to set the various pin modes.</span>

<span class="sd">        :param pin_number: arduino pin number</span>

<span class="sd">        :param pin_state: INPUT/OUTPUT/ANALOG/PWM/PULLUP - for SERVO use</span>
<span class="sd">                          servo_config()</span>
<span class="sd">                          For DHT   use: set_pin_mode_dht</span>

<span class="sd">        :param differential: for analog inputs - threshold</span>
<span class="sd">                             value to be achieved for report to</span>
<span class="sd">                             be generated</span>

<span class="sd">        :param callback: A reference to an async call back function to be</span>
<span class="sd">                         called when pin data value changes</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span> <span class="ow">and</span> <span class="n">pin_state</span> <span class="o">!=</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_OUTPUT</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;_set_pin_mode: A Callback must be specified&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">pin_state</span> <span class="o">==</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_INPUT</span><span class="p">:</span>
                <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SET_PIN_MODE</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span>
                           <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_INPUT</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">digital_callbacks</span><span class="p">[</span><span class="n">pin_number</span><span class="p">]</span> <span class="o">=</span> <span class="n">callback</span>
            <span class="k">elif</span> <span class="n">pin_state</span> <span class="o">==</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_INPUT_PULLUP</span><span class="p">:</span>
                <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SET_PIN_MODE</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span>
                           <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_INPUT_PULLUP</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">digital_callbacks</span><span class="p">[</span><span class="n">pin_number</span><span class="p">]</span> <span class="o">=</span> <span class="n">callback</span>
            <span class="k">elif</span> <span class="n">pin_state</span> <span class="o">==</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_ANALOG</span><span class="p">:</span>
                <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SET_PIN_MODE</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span>
                           <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_ANALOG</span><span class="p">,</span>
                           <span class="n">differential</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">,</span> <span class="n">differential</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">analog_callbacks</span><span class="p">[</span><span class="n">pin_number</span><span class="p">]</span> <span class="o">=</span> <span class="n">callback</span>
            <span class="k">elif</span> <span class="n">pin_state</span> <span class="o">==</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_OUTPUT</span><span class="p">:</span>
                <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SET_PIN_MODE</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span>
                           <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_OUTPUT</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;Unknown pin state&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">command</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.05</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">servo_detach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Detach a servo for reuse</span>
<span class="sd">        :param pin_number: attached pin</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SERVO_DETACH</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">servo_write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span> <span class="n">angle</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Set a servo attached to a pin to a given angle.</span>

<span class="sd">        :param pin_number: pin</span>

<span class="sd">        :param angle: angle (0-180)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SERVO_WRITE</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span> <span class="n">angle</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="c1"># async def stepper_move_to(self, motor_id, position):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Set an absolution target position. If position is positive, the movement is</span>
    <span class="c1">#     clockwise, else it is counter-clockwise.</span>
    <span class="c1">#</span>
    <span class="c1">#     The run() function (below) will try to move the motor (at most one step per call)</span>
    <span class="c1">#     from the current position to the target position set by the most</span>
    <span class="c1">#     recent call to this function. Caution: moveTo() also recalculates the</span>
    <span class="c1">#     speed for the next step.</span>
    <span class="c1">#     If you are trying to use constant speed movements, you should call setSpeed()</span>
    <span class="c1">#     after calling moveTo().</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: motor id: 0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param position: target position. Maximum value is 32 bits.</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_move_to: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if position &lt; 0:</span>
    <span class="c1">#         polarity = 1</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         polarity = 0</span>
    <span class="c1">#     position = abs(position)</span>
    <span class="c1">#</span>
    <span class="c1">#     position_bytes = list(position.to_bytes(4, &#39;big&#39;, signed=True))</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_MOVE_TO, motor_id]</span>
    <span class="c1">#     for value in position_bytes:</span>
    <span class="c1">#         command.append(value)</span>
    <span class="c1">#     command.append(polarity)</span>
    <span class="c1">#</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_move(self, motor_id, relative_position):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Set the target position relative to the current position.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: motor id: 0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param relative_position: The desired position relative to the current</span>
    <span class="c1">#                               position. Negative is anticlockwise from</span>
    <span class="c1">#                               the current position. Maximum value is 32 bits.</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_move: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if relative_position &lt; 0:</span>
    <span class="c1">#         polarity = 1</span>
    <span class="c1">#     else:</span>
    <span class="c1">#         polarity = 0</span>
    <span class="c1">#     position = abs(relative_position)</span>
    <span class="c1">#</span>
    <span class="c1">#     position_bytes = list(position.to_bytes(4, &#39;big&#39;, signed=True))</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_MOVE, motor_id]</span>
    <span class="c1">#     for value in position_bytes:</span>
    <span class="c1">#         command.append(value)</span>
    <span class="c1">#     command.append(polarity)</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_run(self, motor_id, completion_callback=None):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     This method steps the selected motor based on the current speed.</span>
    <span class="c1">#</span>
    <span class="c1">#     Once called, the server will continuously attempt to step the motor.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param completion_callback: call back function to receive motion complete</span>
    <span class="c1">#                                 notification</span>
    <span class="c1">#</span>
    <span class="c1">#     callback returns a data list:</span>
    <span class="c1">#</span>
    <span class="c1">#     [report_type, motor_id, raw_time_stamp]</span>
    <span class="c1">#</span>
    <span class="c1">#     The report_type = 19</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not completion_callback:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_run: A motion complete callback must be &#39;</span>
    <span class="c1">#                            &#39;specified.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_run: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     self.stepper_info_list[motor_id][&#39;motion_complete_callback&#39;] = completion_callback</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_RUN, motor_id]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_run_speed(self, motor_id):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     This method steps the selected motor based at a constant speed as set by the most</span>
    <span class="c1">#     recent call to stepper_set_max_speed(). The motor will run continuously.</span>
    <span class="c1">#</span>
    <span class="c1">#     Once called, the server will continuously attempt to step the motor.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_run_speed: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_RUN_SPEED, motor_id]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_set_max_speed(self, motor_id, max_speed):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Sets the maximum permitted speed. The stepper_run() function will accelerate</span>
    <span class="c1">#     up to the speed set by this function.</span>
    <span class="c1">#</span>
    <span class="c1">#     Caution: the maximum speed achievable depends on your processor and clock speed.</span>
    <span class="c1">#     The default maxSpeed is 1 step per second.</span>
    <span class="c1">#</span>
    <span class="c1">#      Caution: Speeds that exceed the maximum speed supported by the processor may</span>
    <span class="c1">#               result in non-linear accelerations and decelerations.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param max_speed: 1 - 1000</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_set_max_speed: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if not 1 &lt; max_speed &lt;= 1000:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_set_max_speed: Speed range is 1 - 1000.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     self.stepper_info_list[motor_id][&#39;max_speed&#39;] = max_speed</span>
    <span class="c1">#     max_speed_msb = (max_speed &amp; 0xff00) &gt;&gt; 8</span>
    <span class="c1">#     max_speed_lsb = max_speed &amp; 0xff</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_SET_MAX_SPEED, motor_id, max_speed_msb,</span>
    <span class="c1">#                max_speed_lsb]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_get_max_speed(self, motor_id):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Returns the maximum speed configured for this stepper</span>
    <span class="c1">#     that was previously set by stepper_set_max_speed()</span>
    <span class="c1">#</span>
    <span class="c1">#     Value is stored in the client, so no callback is required.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :return: The currently configured maximum speed.</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_max_speed: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     return self.stepper_info_list[motor_id][&#39;max_speed&#39;]</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_set_acceleration(self, motor_id, acceleration):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Sets the acceleration/deceleration rate.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param acceleration: The desired acceleration in steps per second</span>
    <span class="c1">#                          per second. Must be &gt; 0.0. This is an</span>
    <span class="c1">#                          expensive call since it requires a square</span>
    <span class="c1">#                          root to be calculated on the server.</span>
    <span class="c1">#                          Dont call more often than needed.</span>
    <span class="c1">#</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_set_acceleration: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if not 1 &lt; acceleration &lt;= 1000:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_set_acceleration: Acceleration range is 1 - &#39;</span>
    <span class="c1">#                            &#39;1000.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     self.stepper_info_list[motor_id][&#39;acceleration&#39;] = acceleration</span>
    <span class="c1">#</span>
    <span class="c1">#     max_accel_msb = acceleration &gt;&gt; 8</span>
    <span class="c1">#     max_accel_lsb = acceleration &amp; 0xff</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_SET_ACCELERATION, motor_id, max_accel_msb,</span>
    <span class="c1">#                max_accel_lsb]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_set_speed(self, motor_id, speed):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Sets the desired constant speed for use with stepper_run_speed().</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param speed: 0 - 1000 The desired constant speed in steps per</span>
    <span class="c1">#                   second. Positive is clockwise. Speeds of more than 1000 steps per</span>
    <span class="c1">#                   second are unreliable. Speed accuracy depends on the Arduino</span>
    <span class="c1">#                   crystal. Jitter depends on how frequently you call the</span>
    <span class="c1">#                   stepper_run_speed() method.</span>
    <span class="c1">#                   The speed will be limited by the current value of</span>
    <span class="c1">#                   stepper_set_max_speed().</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_set_speed: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if not 0 &lt; speed &lt;= 1000:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_set_speed: Speed range is 0 - &#39;</span>
    <span class="c1">#                            &#39;1000.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     self.stepper_info_list[motor_id][&#39;speed&#39;] = speed</span>
    <span class="c1">#</span>
    <span class="c1">#     speed_msb = speed &gt;&gt; 8</span>
    <span class="c1">#     speed_lsb = speed &amp; 0xff</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_SET_SPEED, motor_id, speed_msb, speed_lsb]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_get_speed(self, motor_id):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Returns the  most recently set speed.</span>
    <span class="c1">#     that was previously set by stepper_set_speed();</span>
    <span class="c1">#</span>
    <span class="c1">#     Value is stored in the client, so no callback is required.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id:  0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_get_speed: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     return self.stepper_info_list[motor_id][&#39;speed&#39;]</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_get_distance_to_go(self, motor_id, distance_to_go_callback):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Request the distance from the current position to the target position</span>
    <span class="c1">#     from the server.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param distance_to_go_callback: required callback function to receive report</span>
    <span class="c1">#</span>
    <span class="c1">#     :return: The distance to go is returned via the callback as a list:</span>
    <span class="c1">#</span>
    <span class="c1">#     [REPORT_TYPE=15, motor_id, distance in steps, time_stamp]</span>
    <span class="c1">#</span>
    <span class="c1">#     A positive distance is clockwise from the current position.</span>
    <span class="c1">#</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not distance_to_go_callback:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_get_distance_to_go Read: A callback function must be specified.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_get_distance_to_go: Invalid motor_id.&#39;)</span>
    <span class="c1">#     self.stepper_info_list[motor_id][</span>
    <span class="c1">#         &#39;distance_to_go_callback&#39;] = distance_to_go_callback</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_GET_DISTANCE_TO_GO, motor_id]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_get_target_position(self, motor_id, target_callback):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Request the most recently set target position from the server.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param target_callback: required callback function to receive report</span>
    <span class="c1">#</span>
    <span class="c1">#     :return: The distance to go is returned via the callback as a list:</span>
    <span class="c1">#</span>
    <span class="c1">#     [REPORT_TYPE=16, motor_id, target position in steps, time_stamp]</span>
    <span class="c1">#</span>
    <span class="c1">#     Positive is clockwise from the 0 position.</span>
    <span class="c1">#</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not target_callback:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(</span>
    <span class="c1">#             &#39;stepper_get_target_position Read: A callback function must be specified.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_get_target_position: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     self.stepper_info_list[motor_id][</span>
    <span class="c1">#         &#39;target_position_callback&#39;] = target_callback</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_GET_TARGET_POSITION, motor_id]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_get_current_position(self, motor_id, current_position_callback):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Request the current motor position from the server.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param current_position_callback: required callback function to receive report</span>
    <span class="c1">#</span>
    <span class="c1">#     :return: The current motor position returned via the callback as a list:</span>
    <span class="c1">#</span>
    <span class="c1">#     [REPORT_TYPE=17, motor_id, current position in steps, time_stamp]</span>
    <span class="c1">#</span>
    <span class="c1">#     Positive is clockwise from the 0 position.</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not current_position_callback:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(</span>
    <span class="c1">#             &#39;stepper_get_current_position Read: A callback function must be specified.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_get_current_position: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     self.stepper_info_list[motor_id][&#39;current_position_callback&#39;] = current_position_callback</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_GET_CURRENT_POSITION, motor_id]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_set_current_position(self, motor_id, position):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Resets the current position of the motor, so that wherever the motor</span>
    <span class="c1">#     happens to be right now is considered to be the new 0 position. Useful</span>
    <span class="c1">#     for setting a zero position on a stepper after an initial hardware</span>
    <span class="c1">#     positioning move.</span>
    <span class="c1">#</span>
    <span class="c1">#     Has the side effect of setting the current motor speed to 0.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id:  0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param position: Position in steps. This is a 32 bit value</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_set_current_position: Invalid motor_id.&#39;)</span>
    <span class="c1">#     position_bytes = list(position.to_bytes(4, &#39;big&#39;,  signed=True))</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_SET_CURRENT_POSITION, motor_id]</span>
    <span class="c1">#     for value in position_bytes:</span>
    <span class="c1">#         command.append(value)</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_run_speed_to_position(self, motor_id, completion_callback=None):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Runs the motor at the currently selected speed until the target position is</span>
    <span class="c1">#     reached.</span>
    <span class="c1">#</span>
    <span class="c1">#     Does not implement accelerations.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param completion_callback: call back function to receive motion complete</span>
    <span class="c1">#                                 notification</span>
    <span class="c1">#</span>
    <span class="c1">#     callback returns a data list:</span>
    <span class="c1">#</span>
    <span class="c1">#     [report_type, motor_id, raw_time_stamp]</span>
    <span class="c1">#</span>
    <span class="c1">#     The report_type = 19</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not completion_callback:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_run_speed_to_position: A motion complete &#39;</span>
    <span class="c1">#                            &#39;callback must be &#39;</span>
    <span class="c1">#                            &#39;specified.&#39;)</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_run_speed_to_position: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     self.stepper_info_list[motor_id][&#39;motion_complete_callback&#39;] = completion_callback</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_RUN_SPEED_TO_POSITION, motor_id]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_stop(self, motor_id):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Sets a new target position that causes the stepper</span>
    <span class="c1">#     to stop as quickly as possible, using the current speed and</span>
    <span class="c1">#     acceleration parameters.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id:  0 - 3</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_stop: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_STOP, motor_id]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_disable_outputs(self, motor_id):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Disable motor pin outputs by setting them all LOW.</span>
    <span class="c1">#</span>
    <span class="c1">#     Depending on the design of your electronics this may turn off</span>
    <span class="c1">#     the power to the motor coils, saving power.</span>
    <span class="c1">#</span>
    <span class="c1">#     This is useful to support Arduino low power modes: disable the outputs</span>
    <span class="c1">#     during sleep and then re-enable with enableOutputs() before stepping</span>
    <span class="c1">#     again.</span>
    <span class="c1">#</span>
    <span class="c1">#     If the enable Pin is defined, sets it to OUTPUT mode and clears</span>
    <span class="c1">#     the pin to disabled.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 3</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_disable_outputs: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_DISABLE_OUTPUTS, motor_id]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_enable_outputs(self, motor_id):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Enable motor pin outputs by setting the motor pins to OUTPUT</span>
    <span class="c1">#     mode.</span>
    <span class="c1">#</span>
    <span class="c1">#     If the enable Pin is defined, sets it to OUTPUT mode and sets</span>
    <span class="c1">#     the pin to enabled.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 3</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_enable_outputs: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_ENABLE_OUTPUTS, motor_id]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_set_min_pulse_width(self, motor_id, minimum_width):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Sets the minimum pulse width allowed by the stepper driver.</span>
    <span class="c1">#</span>
    <span class="c1">#     The minimum practical pulse width is approximately 20 microseconds.</span>
    <span class="c1">#</span>
    <span class="c1">#     Times less than 20 microseconds will usually result in 20 microseconds or so.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 -3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param minimum_width: A 16 bit unsigned value expressed in microseconds.</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_set_min_pulse_width: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if not 0 &lt; minimum_width &lt;= 0xff:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_set_min_pulse_width: Pulse width range = &#39;</span>
    <span class="c1">#                            &#39;0-0xffff.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     width_msb = minimum_width &gt;&gt; 8</span>
    <span class="c1">#     width_lsb = minimum_width &amp; 0xff</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_SET_MINIMUM_PULSE_WIDTH, motor_id, width_msb,</span>
    <span class="c1">#                width_lsb]</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_set_enable_pin(self, motor_id, pin=0xff):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Sets the enable pin number for stepper drivers.</span>
    <span class="c1">#     0xFF indicates unused (default).</span>
    <span class="c1">#</span>
    <span class="c1">#     Otherwise, if a pin is set, the pin will be turned on when</span>
    <span class="c1">#     enableOutputs() is called and switched off when disableOutputs()</span>
    <span class="c1">#     is called.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 4</span>
    <span class="c1">#     :param pin: 0-0xff</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_set_enable_pin: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if not 0 &lt; pin &lt;= 0xff:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_set_enable_pin: Pulse width range = &#39;</span>
    <span class="c1">#                            &#39;0-0xff.&#39;)</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_SET_ENABLE_PIN, motor_id, pin]</span>
    <span class="c1">#</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_set_3_pins_inverted(self, motor_id, direction=False, step=False,</span>
    <span class="c1">#                                 enable=False):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Sets the inversion for stepper driver pins.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param direction: True=inverted or False</span>
    <span class="c1">#</span>
    <span class="c1">#     :param step: True=inverted or False</span>
    <span class="c1">#</span>
    <span class="c1">#     :param enable: True=inverted or False</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_set_3_pins_inverted: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_SET_3_PINS_INVERTED, motor_id, direction,</span>
    <span class="c1">#                step, enable]</span>
    <span class="c1">#</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_set_4_pins_inverted(self, motor_id, pin1_invert=False,</span>
    <span class="c1">#                                   pin2_invert=False,</span>
    <span class="c1">#                                 pin3_invert=False, pin4_invert=False, enable=False):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Sets the inversion for 2, 3 and 4 wire stepper pins</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0 - 3</span>
    <span class="c1">#</span>
    <span class="c1">#     :param pin1_invert: True=inverted or False</span>
    <span class="c1">#</span>
    <span class="c1">#     :param pin2_invert: True=inverted or False</span>
    <span class="c1">#</span>
    <span class="c1">#     :param pin3_invert: True=inverted or False</span>
    <span class="c1">#</span>
    <span class="c1">#     :param pin4_invert: True=inverted or False</span>
    <span class="c1">#</span>
    <span class="c1">#     :param enable: True=inverted or False</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_set_4_pins_inverted: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_SET_4_PINS_INVERTED, motor_id, pin1_invert,</span>
    <span class="c1">#                pin2_invert, pin3_invert, pin4_invert, enable]</span>
    <span class="c1">#</span>
    <span class="c1">#     await self._send_command(command)</span>
    <span class="c1">#</span>
    <span class="c1"># async def stepper_is_running(self, motor_id, callback):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Checks to see if the motor is currently running to a target.</span>
    <span class="c1">#</span>
    <span class="c1">#     Callback return True if the speed is not zero or not at the target position.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param motor_id: 0-4</span>
    <span class="c1">#</span>
    <span class="c1">#     :param callback: required callback function to receive report</span>
    <span class="c1">#</span>
    <span class="c1">#     :return: The current running state returned via the callback as a list:</span>
    <span class="c1">#</span>
    <span class="c1">#     [REPORT_TYPE=18, motor_id, True or False for running state, time_stamp]</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     if not callback:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(</span>
    <span class="c1">#             &#39;stepper_is_running: A callback function must be specified.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     if not self.stepper_info_list[motor_id][&#39;instance&#39;]:</span>
    <span class="c1">#         if self.shutdown_on_exception:</span>
    <span class="c1">#             await self.shutdown()</span>
    <span class="c1">#         raise RuntimeError(&#39;stepper_is_running: Invalid motor_id.&#39;)</span>
    <span class="c1">#</span>
    <span class="c1">#     self.stepper_info_list[motor_id][&#39;is_running_callback&#39;] = callback</span>
    <span class="c1">#</span>
    <span class="c1">#     command = [PrivateConstants.STEPPER_IS_RUNNING, motor_id]</span>
    <span class="c1">#     await self._send_command(command)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This method attempts an orderly shutdown</span>
<span class="sd">        If any exceptions are thrown, they are ignored.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_flag</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hard_reset_on_shutdown</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">r4_hard_reset</span><span class="p">()</span>
        <span class="c1"># stop all reporting - both analog and digital</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STOP_ALL_REPORTS</span><span class="p">]</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

                <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.5</span><span class="p">)</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span><span class="o">.</span><span class="n">reset_input_buffer</span><span class="p">()</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_loop_on_shutdown</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">RuntimeError</span><span class="p">,</span> <span class="n">SerialException</span><span class="p">):</span>
                <span class="k">pass</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">r4_hard_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Place the r4 into hard reset</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">BOARD_HARD_RESET</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">disable_all_reporting</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Disable reporting for all digital and analog input pins</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">MODIFY_REPORTING</span><span class="p">,</span>
                   <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">REPORTING_DISABLE_ALL</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">disable_analog_reporting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Disables analog reporting for a single analog pin.</span>

<span class="sd">        :param pin: Analog pin number. For example for A0, the number is 0.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">MODIFY_REPORTING</span><span class="p">,</span>
                   <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">REPORTING_ANALOG_DISABLE</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">disable_digital_reporting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Disables digital reporting for a single digital pin</span>


<span class="sd">        :param pin: pin number</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">MODIFY_REPORTING</span><span class="p">,</span>
                   <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">REPORTING_DIGITAL_DISABLE</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">enable_analog_reporting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enables analog reporting for the specified pin.</span>

<span class="sd">        :param pin: Analog pin number. For example for A0, the number is 0.</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">MODIFY_REPORTING</span><span class="p">,</span>
                   <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">REPORTING_ANALOG_ENABLE</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">enable_digital_reporting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enable reporting on the specified digital pin.</span>

<span class="sd">        :param pin: Pin number.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">MODIFY_REPORTING</span><span class="p">,</span>
                   <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">REPORTING_DIGITAL_ENABLE</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_arduino_report_dispatcher</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This is a private method.</span>
<span class="sd">        It continually accepts and interprets data coming from Telemetrix4Arduino,and then</span>
<span class="sd">        dispatches the correct handler to process the data.</span>

<span class="sd">        It first receives the length of the packet, and then reads in the rest of the</span>
<span class="sd">        packet. A packet consists of a length, report identifier and then the report data.</span>
<span class="sd">        Using the report identifier, the report handler is fetched from report_dispatch.</span>

<span class="sd">        :returns: This method never returns</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_flag</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">packet_length</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="c1"># get the rest of the packet</span>
            <span class="n">packet</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">packet_length</span><span class="p">)</span>

            <span class="n">report</span> <span class="o">=</span> <span class="n">packet</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="c1"># print(report)</span>
            <span class="c1"># handle all other messages by looking them up in the</span>
            <span class="c1"># command dictionary</span>

            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="p">[</span><span class="n">report</span><span class="p">](</span><span class="n">packet</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sleep_tune</span><span class="p">)</span>

<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Report message handlers</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_report_loop_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Print data that was looped back</span>

<span class="sd">        :param data: byte of loop back data</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">loop_back_callback</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">loop_back_callback</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_spi_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">report</span><span class="p">):</span>

        <span class="n">cb_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_REPORT</span><span class="p">,</span> <span class="n">report</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">+</span> <span class="n">report</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

        <span class="n">cb_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">spi_callback</span><span class="p">(</span><span class="n">cb_list</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_onewire_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">report</span><span class="p">):</span>
        <span class="n">cb_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">ONE_WIRE_REPORT</span><span class="p">,</span> <span class="n">report</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">+</span> <span class="n">report</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">cb_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">onewire_callback</span><span class="p">(</span><span class="n">cb_list</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_report_debug_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Print debug data sent from Arduino</span>

<span class="sd">        :param data: data[0] is a byte followed by 2</span>
<span class="sd">                     bytes that comprise an integer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">+</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;DEBUG ID: </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> Value: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_analog_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This is a private message handler method.</span>
<span class="sd">        It is a message handler for analog messages.</span>

<span class="sd">        :param data: message data</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pin</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">+</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

        <span class="n">time_stamp</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="c1"># append pin number, pin value, and pin type to return value and return as a list</span>
        <span class="n">message</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_ANALOG</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">time_stamp</span><span class="p">]</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">analog_callbacks</span><span class="p">[</span><span class="n">pin</span><span class="p">](</span><span class="n">message</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_dht_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This is a private message handler for dht reports</span>

<span class="sd">        :param data:            data[0] = report error return</span>
<span class="sd">                                    No Errors = 0</span>

<span class="sd">                                    Checksum Error = 1</span>

<span class="sd">                                    Timeout Error = 2</span>

<span class="sd">                                    Invalid Value = 999</span>

<span class="sd">                                data[1] = pin number</span>

<span class="sd">                                data[2] = dht type 11 or 22</span>

<span class="sd">                                data[3] = humidity positivity flag</span>

<span class="sd">                                data[4] = temperature positivity value</span>

<span class="sd">                                data[5] = humidity integer</span>

<span class="sd">                                data[6] = humidity fractional value</span>

<span class="sd">                                data[7] = temperature integer</span>

<span class="sd">                                data[8] = temperature fractional value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>  <span class="c1"># DHT_ERROR</span>
            <span class="c1"># error report</span>
            <span class="c1"># data[0] = report sub type, data[1] = pin, data[2] = error message</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dht_callbacks</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]]:</span>
                <span class="c1"># Callback 0=DHT REPORT, DHT_ERROR, PIN, Time</span>
                <span class="n">message</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DHT_REPORT</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                           <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()]</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">dht_callbacks</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]](</span><span class="n">message</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># got valid data DHT_DATA</span>
            <span class="n">f_humidity</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">+</span> <span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
                <span class="n">f_humidity</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1.0</span>
            <span class="n">f_temperature</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">+</span> <span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span>
                <span class="n">f_temperature</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1.0</span>
            <span class="n">message</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DHT_REPORT</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                       <span class="n">f_humidity</span><span class="p">,</span> <span class="n">f_temperature</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()]</span>

            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">dht_callbacks</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]](</span><span class="n">message</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_digital_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This is a private message handler method.</span>
<span class="sd">        It is a message handler for Digital Messages.</span>

<span class="sd">        :param data: digital message</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pin</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">time_stamp</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">digital_callbacks</span><span class="p">[</span><span class="n">pin</span><span class="p">]:</span>
            <span class="n">message</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DIGITAL_REPORT</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">time_stamp</span><span class="p">]</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">digital_callbacks</span><span class="p">[</span><span class="n">pin</span><span class="p">](</span><span class="n">message</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_servo_unavailable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">report</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Message if no servos are available for use.</span>

<span class="sd">        :param report: pin number</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;Servo Attach For Pin </span><span class="si">{</span><span class="n">report</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> Failed: No Available Servos&#39;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_i2c_read_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Execute callback for i2c reads.</span>

<span class="sd">        :param data: [I2C_READ_REPORT, i2c_port, number of bytes read, address, register, bytes read..., time-stamp]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># we receive [# data bytes, address, register, data bytes]</span>
        <span class="c1"># number of bytes of data returned</span>

        <span class="c1"># data[0] = number of bytes</span>
        <span class="c1"># data[1] = i2c_port</span>
        <span class="c1"># data[2] = number of bytes returned</span>
        <span class="c1"># data[3] = address</span>
        <span class="c1"># data[4] = register</span>
        <span class="c1"># data[5] ... all the data bytes</span>

        <span class="n">cb_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">I2C_READ_REPORT</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="n">cb_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">cb_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2c_callback2</span><span class="p">(</span><span class="n">cb_list</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2c_callback</span><span class="p">(</span><span class="n">cb_list</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_i2c_too_few</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        I2c reports too few bytes received</span>

<span class="sd">        :param data: data[0] = device address</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;i2c too few bytes received from i2c port </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> i2c address </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_i2c_too_many</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        I2c reports too few bytes received</span>

<span class="sd">        :param data: data[0] = device address</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;i2c too many bytes received from i2c port </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> i2c address </span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_sonar_distance_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">report</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param report: data[0] = trigger pin, data[1] and data[2] = distance</span>

<span class="sd">        callback report format: [PrivateConstants.SONAR_DISTANCE, trigger_pin, distance_value, time_stamp]</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># get callback from pin number</span>
        <span class="n">cb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sonar_callbacks</span><span class="p">[</span><span class="n">report</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>

        <span class="c1"># build report data</span>
        <span class="n">cb_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SONAR_DISTANCE</span><span class="p">,</span> <span class="n">report</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                   <span class="p">((</span><span class="n">report</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">+</span> <span class="n">report</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()]</span>

        <span class="k">await</span> <span class="n">cb</span><span class="p">(</span><span class="n">cb_list</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_stepper_distance_to_go_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">report</span><span class="p">):</span>
        <span class="k">return</span>  <span class="c1"># for now</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Report stepper distance to go.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param report: data[0] = motor_id, data[1] = steps MSB, data[2] = steps byte 1,</span>
    <span class="c1">#                              data[3] = steps bytes 2, data[4] = steps LSB</span>
    <span class="c1">#</span>
    <span class="c1">#     callback report format: [PrivateConstants.STEPPER_DISTANCE_TO_GO, motor_id</span>
    <span class="c1">#                              steps, time_stamp]</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="c1">#     # get callback</span>
    <span class="c1">#     cb = self.stepper_info_list[report[0]][&#39;distance_to_go_callback&#39;]</span>
    <span class="c1">#</span>
    <span class="c1">#     # isolate the steps bytes and covert list to bytes</span>
    <span class="c1">#     steps = bytes(report[1:])</span>
    <span class="c1">#</span>
    <span class="c1">#     # get value from steps</span>
    <span class="c1">#     num_steps = int.from_bytes(steps, byteorder=&#39;big&#39;, signed=True)</span>
    <span class="c1">#</span>
    <span class="c1">#     cb_list = [PrivateConstants.STEPPER_DISTANCE_TO_GO, report[0], num_steps,</span>
    <span class="c1">#                time.time()]</span>
    <span class="c1">#</span>
    <span class="c1">#     await cb(cb_list)</span>
    <span class="c1">#</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_stepper_target_position_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">report</span><span class="p">):</span>
        <span class="k">return</span>  <span class="c1"># for now</span>

    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Report stepper target position to go.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param report: data[0] = motor_id, data[1] = target position MSB,</span>
    <span class="c1">#                    data[2] = target position byte MSB+1</span>
    <span class="c1">#                    data[3] = target position byte MSB+2</span>
    <span class="c1">#                    data[4] = target position LSB</span>
    <span class="c1">#</span>
    <span class="c1">#     callback report format: [PrivateConstants.STEPPER_TARGET_POSITION, motor_id</span>
    <span class="c1">#                              target_position, time_stamp]</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="c1">#     # get callback</span>
    <span class="c1">#     cb = self.stepper_info_list[report[0]][&#39;target_position_callback&#39;]</span>
    <span class="c1">#</span>
    <span class="c1">#     # isolate the steps bytes and covert list to bytes</span>
    <span class="c1">#     target = bytes(report[1:])</span>
    <span class="c1">#</span>
    <span class="c1">#     # get value from steps</span>
    <span class="c1">#     target_position = int.from_bytes(target, byteorder=&#39;big&#39;, signed=True)</span>
    <span class="c1">#</span>
    <span class="c1">#     cb_list = [PrivateConstants.STEPPER_TARGET_POSITION, report[0], target_position,</span>
    <span class="c1">#                time.time()]</span>
    <span class="c1">#</span>
    <span class="c1">#     await cb(cb_list)</span>
    <span class="c1">#</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">_stepper_current_position_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">report</span><span class="p">):</span>
        <span class="k">return</span>  <span class="c1"># for now</span>

    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Report stepper current position.</span>
    <span class="c1">#</span>
    <span class="c1">#     :param report: data[0] = motor_id, data[1] = current position MSB,</span>
    <span class="c1">#                    data[2] = current position byte MSB+1</span>
    <span class="c1">#                    data[3] = current position byte MSB+2</span>
    <span class="c1">#                    data[4] = current position LSB</span>
    <span class="c1">#</span>
    <span class="c1">#     callback report format: [PrivateConstants.STEPPER_CURRENT_POSITION, motor_id</span>
    <span class="c1">#                              current_position, time_stamp]</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="c1">#     # get callback</span>
    <span class="c1">#     cb = self.stepper_info_list[report[0]][&#39;current_position_callback&#39;]</span>
    <span class="c1">#</span>
    <span class="c1">#     # isolate the steps bytes and covert list to bytes</span>
    <span class="c1">#     position = bytes(report[1:])</span>
    <span class="c1">#</span>
    <span class="c1">#     # get value from steps</span>
    <span class="c1">#     current_position = int.from_bytes(position, byteorder=&#39;big&#39;, signed=True)</span>
    <span class="c1">#</span>
    <span class="c1">#     cb_list = [PrivateConstants.STEPPER_CURRENT_POSITION, report[0], current_position,</span>
    <span class="c1">#                time.time()]</span>
    <span class="c1">#</span>
    <span class="c1">#     await cb(cb_list)</span>
    <span class="c1">#</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">_stepper_is_running_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">report</span><span class="p">):</span>
        <span class="k">return</span>  <span class="c1"># for now</span>

    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Report if the motor is currently running</span>
    <span class="c1">#</span>
    <span class="c1">#     :param report: data[0] = motor_id, True if motor is running or False if it is not.</span>
    <span class="c1">#</span>
    <span class="c1">#     callback report format: [18, motor_id,</span>
    <span class="c1">#                              running_state, time_stamp]</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="c1">#     # get callback</span>
    <span class="c1">#     cb = self.stepper_info_list[report[0]][&#39;is_running_callback&#39;]</span>
    <span class="c1">#</span>
    <span class="c1">#     cb_list = [PrivateConstants.STEPPER_RUNNING_REPORT, report[0], time.time()]</span>
    <span class="c1">#</span>
    <span class="c1">#     await cb(cb_list)</span>
    <span class="c1">#</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">_stepper_run_complete_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">report</span><span class="p">):</span>
        <span class="k">return</span>  <span class="c1"># for now</span>

    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     The motor completed it motion</span>
    <span class="c1">#</span>
    <span class="c1">#     :param report: data[0] = motor_id</span>
    <span class="c1">#</span>
    <span class="c1">#     callback report format: [PrivateConstants.STEPPER_RUN_COMPLETE_REPORT, motor_id,</span>
    <span class="c1">#                              time_stamp]</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="c1">#     # get callback</span>
    <span class="c1">#     cb = self.stepper_info_list[report[0]][&#39;motion_complete_callback&#39;]</span>
    <span class="c1">#</span>
    <span class="c1">#     cb_list = [PrivateConstants.STEPPER_RUN_COMPLETE_REPORT, report[0],</span>
    <span class="c1">#                time.time()]</span>
    <span class="c1">#</span>
    <span class="c1">#     await cb(cb_list)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_features_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">report</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reported_features</span> <span class="o">=</span> <span class="n">report</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">_send_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This is a private utility method.</span>


<span class="sd">        :param command:  command data in the form of a list</span>

<span class="sd">        :returns: number of bytes sent</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># the length of the list is added at the head</span>
        <span class="n">command</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">command</span><span class="p">))</span>
        <span class="c1"># print(command)</span>
        <span class="n">send_message</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">send_message</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">com_port</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arduino_instance_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">arduino_wait</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sleep_tune</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">autostart</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">shutdown_on_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">close_loop_on_shutdown</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">hard_reset_on_shutdown</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>If you have a single Arduino connected to your computer,
 then you may accept all the default values.</p>
<p>Otherwise, specify a unique arduino_instance id for each board in use.</p>
<p>:param com_port: e.g. COM3 or /dev/ttyACM0.</p>
<p>:param arduino_instance_id: Must match value in the Telemetrix4Arduino sketch</p>
<p>:param arduino_wait: Amount of time to wait for an Arduino to
                      fully reset itself.</p>
<p>:param sleep_tune: A tuning parameter (typically not changed by user)</p>
<p>:param autostart: If you wish to call the start method within
                   your application, then set this to False.</p>
<p>:param loop: optional user provided event loop</p>
<p>:param shutdown_on_exception: call shutdown before raising
                               a RunTimeError exception, or
                               receiving a KeyboardInterrupt exception</p>
<p>:param close_loop_on_shutdown: stop and close the event loop loop
                                when a shutdown is called or a serial
                                error occurs</p>
<p>:param hard_reset_on_shutdown: reset the board on shutdown</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">com_port</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
             <span class="n">arduino_instance_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">arduino_wait</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
             <span class="n">sleep_tune</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">autostart</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">loop</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">shutdown_on_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">close_loop_on_shutdown</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">hard_reset_on_shutdown</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    If you have a single Arduino connected to your computer,</span>
<span class="sd">    then you may accept all the default values.</span>

<span class="sd">    Otherwise, specify a unique arduino_instance id for each board in use.</span>

<span class="sd">    :param com_port: e.g. COM3 or /dev/ttyACM0.</span>

<span class="sd">    :param arduino_instance_id: Must match value in the Telemetrix4Arduino sketch</span>

<span class="sd">    :param arduino_wait: Amount of time to wait for an Arduino to</span>
<span class="sd">                         fully reset itself.</span>

<span class="sd">    :param sleep_tune: A tuning parameter (typically not changed by user)</span>

<span class="sd">    :param autostart: If you wish to call the start method within</span>
<span class="sd">                      your application, then set this to False.</span>

<span class="sd">    :param loop: optional user provided event loop</span>

<span class="sd">    :param shutdown_on_exception: call shutdown before raising</span>
<span class="sd">                                  a RunTimeError exception, or</span>
<span class="sd">                                  receiving a KeyboardInterrupt exception</span>

<span class="sd">    :param close_loop_on_shutdown: stop and close the event loop loop</span>
<span class="sd">                                   when a shutdown is called or a serial</span>
<span class="sd">                                   error occurs</span>

<span class="sd">   :param hard_reset_on_shutdown: reset the board on shutdown</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># check to make sure that Python interpreter is version 3.8.3 or greater</span>
    <span class="n">python_version</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span>
    <span class="k">if</span> <span class="n">python_version</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">python_version</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">8</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">python_version</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;ERROR: Python 3.7 or greater is &quot;</span>
                               <span class="s2">&quot;required for use of this program.&quot;</span><span class="p">)</span>

    <span class="c1"># save input parameters</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">com_port</span> <span class="o">=</span> <span class="n">com_port</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">arduino_instance_id</span> <span class="o">=</span> <span class="n">arduino_instance_id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">arduino_wait</span> <span class="o">=</span> <span class="n">arduino_wait</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sleep_tune</span> <span class="o">=</span> <span class="n">sleep_tune</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">autostart</span> <span class="o">=</span> <span class="n">autostart</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">hard_reset_on_shutdown</span> <span class="o">=</span> <span class="n">hard_reset_on_shutdown</span>

    <span class="c1"># set the event loop</span>
    <span class="k">if</span> <span class="n">loop</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loop</span> <span class="o">=</span> <span class="n">loop</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span> <span class="o">=</span> <span class="n">shutdown_on_exception</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">close_loop_on_shutdown</span> <span class="o">=</span> <span class="n">close_loop_on_shutdown</span>

    <span class="c1"># dictionaries to store the callbacks for each pin</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">analog_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">digital_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">i2c_callback</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">i2c_callback2</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">i2c_1_active</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">i2c_2_active</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">spi_callback</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">onewire_callback</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># debug loopback callback method</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">loop_back_callback</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># the trigger pin will be the key to retrieve</span>
    <span class="c1"># the callback for a specific HC-SR04</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sonar_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">sonar_count</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">dht_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">dht_count</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># serial port in use</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># generic asyncio task holder</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">the_task</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># flag to indicate we are in shutdown mode</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_flag</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># reported features</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reported_features</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># To add a command to the command dispatch table, append here.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">LOOP_COMMAND</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_report_loop_data</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DEBUG_PRINT</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_report_debug_data</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DIGITAL_REPORT</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_digital_message</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">ANALOG_REPORT</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_analog_message</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SERVO_UNAVAILABLE</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_servo_unavailable</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">I2C_READ_REPORT</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_i2c_read_report</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">I2C_TOO_FEW_BYTES_RCVD</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_i2c_too_few</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">I2C_TOO_MANY_BYTES_RCVD</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_i2c_too_many</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SONAR_DISTANCE</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sonar_distance_report</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DHT_REPORT</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dht_report</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_REPORT</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_spi_report</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">ONE_WIRE_REPORT</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_onewire_report</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STEPPER_DISTANCE_TO_GO</span><span class="p">:</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">_stepper_distance_to_go_report</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STEPPER_TARGET_POSITION</span><span class="p">:</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">_stepper_target_position_report</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STEPPER_CURRENT_POSITION</span><span class="p">:</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">_stepper_current_position_report</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STEPPER_RUNNING_REPORT</span><span class="p">:</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">_stepper_is_running_report</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STEPPER_RUN_COMPLETE_REPORT</span><span class="p">:</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">_stepper_run_complete_report</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STEPPER_DISTANCE_TO_GO</span><span class="p">:</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">_stepper_distance_to_go_report</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STEPPER_TARGET_POSITION</span><span class="p">:</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">_stepper_target_position_report</span><span class="p">})</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">report_dispatch</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">FEATURES</span><span class="p">:</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">_features_report</span><span class="p">})</span>

    <span class="c1"># dictionaries to store the callbacks for each pin</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">analog_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">digital_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">i2c_callback</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">i2c_callback2</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">i2c_1_active</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">i2c_2_active</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">spi_callback</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">onewire_callback</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">cs_pins_enabled</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># flag to indicate if spi is initialized</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">spi_enabled</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># flag to indicate if onewire is initialized</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">onewire_enabled</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># the trigger pin will be the key to retrieve</span>
    <span class="c1"># the callback for a specific HC-SR04</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sonar_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">sonar_count</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">dht_callbacks</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># # stepper motor variables</span>
    <span class="c1">#</span>
    <span class="c1"># # updated when a new motor is added</span>
    <span class="c1"># self.next_stepper_assigned = 0</span>
    <span class="c1">#</span>
    <span class="c1"># # valid list of stepper motor interface types</span>
    <span class="c1"># self.valid_stepper_interfaces = [1, 2, 3, 4, 6, 8]</span>
    <span class="c1">#</span>
    <span class="c1"># # maximum number of steppers supported</span>
    <span class="c1"># self.max_number_of_steppers = 4</span>
    <span class="c1">#</span>
    <span class="c1"># # number of steppers created - not to exceed the maximum</span>
    <span class="c1"># self.number_of_steppers = 0</span>
    <span class="c1">#</span>
    <span class="c1"># # dictionary to hold stepper motor information</span>
    <span class="c1"># self.stepper_info = {&#39;instance&#39;: False, &#39;is_running&#39;: None,</span>
    <span class="c1">#                      &#39;maximum_speed&#39;: 1, &#39;speed&#39;: 0, &#39;acceleration&#39;: 0,</span>
    <span class="c1">#                      &#39;distance_to_go_callback&#39;: None,</span>
    <span class="c1">#                      &#39;target_position_callback&#39;: None,</span>
    <span class="c1">#                      &#39;current_position_callback&#39;: None,</span>
    <span class="c1">#                      &#39;is_running_callback&#39;: None,</span>
    <span class="c1">#                      &#39;motion_complete_callback&#39;: None,</span>
    <span class="c1">#                      &#39;acceleration_callback&#39;: None}</span>
    <span class="c1">#</span>
    <span class="c1"># # build a list of stepper motor info items</span>
    <span class="c1"># self.stepper_info_list = []</span>
    <span class="c1"># # a list of dictionaries to hold stepper information</span>
    <span class="c1"># for motor in range(self.max_number_of_steppers):</span>
    <span class="c1">#     self.stepper_info_list.append(self.stepper_info)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;telemetrix_uno_r4_minima_aio Version:&#39;</span>
          <span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">TELEMETRIX_AIO_VERSION</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Copyright (c) 2023 Alan Yorinks All rights reserved.</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">autostart</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start_aio</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.analog_write" class="doc doc-heading">
<code class="highlight language-python"><span class="n">analog_write</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Set the specified pin to the specified value.</p>
<p>:param pin: arduino pin number</p>
<p>:param value: pin value (maximum 16 bits)</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">analog_write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the specified pin to the specified value.</span>

<span class="sd">    :param pin: arduino pin number</span>

<span class="sd">    :param value: pin value (maximum 16 bits)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">value_msb</span> <span class="o">=</span> <span class="n">value</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span>
    <span class="n">value_lsb</span> <span class="o">=</span> <span class="n">value</span> <span class="o">&amp;</span> <span class="mh">0xff</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">ANALOG_WRITE</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">value_msb</span><span class="p">,</span> <span class="n">value_lsb</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.digital_write" class="doc doc-heading">
<code class="highlight language-python"><span class="n">digital_write</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Set the specified pin to the specified value.</p>
<p>:param pin: arduino pin number</p>
<p>:param value: pin value (1 or 0)</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">digital_write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the specified pin to the specified value.</span>

<span class="sd">    :param pin: arduino pin number</span>

<span class="sd">    :param value: pin value (1 or 0)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DIGITAL_WRITE</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">value</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.disable_all_reporting" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disable_all_reporting</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Disable reporting for all digital and analog input pins</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">disable_all_reporting</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Disable reporting for all digital and analog input pins</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">MODIFY_REPORTING</span><span class="p">,</span>
               <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">REPORTING_DISABLE_ALL</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.disable_analog_reporting" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disable_analog_reporting</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Disables analog reporting for a single analog pin.</p>
<p>:param pin: Analog pin number. For example for A0, the number is 0.</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">disable_analog_reporting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Disables analog reporting for a single analog pin.</span>

<span class="sd">    :param pin: Analog pin number. For example for A0, the number is 0.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">MODIFY_REPORTING</span><span class="p">,</span>
               <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">REPORTING_ANALOG_DISABLE</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.disable_digital_reporting" class="doc doc-heading">
<code class="highlight language-python"><span class="n">disable_digital_reporting</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Disables digital reporting for a single digital pin</p>
<p>:param pin: pin number</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span>
<span class="normal">2104</span>
<span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">disable_digital_reporting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Disables digital reporting for a single digital pin</span>


<span class="sd">    :param pin: pin number</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">MODIFY_REPORTING</span><span class="p">,</span>
               <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">REPORTING_DIGITAL_DISABLE</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.enable_analog_reporting" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable_analog_reporting</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Enables analog reporting for the specified pin.</p>
<p>:param pin: Analog pin number. For example for A0, the number is 0.</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2109</span>
<span class="normal">2110</span>
<span class="normal">2111</span>
<span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">enable_analog_reporting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enables analog reporting for the specified pin.</span>

<span class="sd">    :param pin: Analog pin number. For example for A0, the number is 0.</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">MODIFY_REPORTING</span><span class="p">,</span>
               <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">REPORTING_ANALOG_ENABLE</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.enable_digital_reporting" class="doc doc-heading">
<code class="highlight language-python"><span class="n">enable_digital_reporting</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Enable reporting on the specified digital pin.</p>
<p>:param pin: Pin number.</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">enable_digital_reporting</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enable reporting on the specified digital pin.</span>

<span class="sd">    :param pin: Pin number.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">MODIFY_REPORTING</span><span class="p">,</span>
               <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">REPORTING_DIGITAL_ENABLE</span><span class="p">,</span> <span class="n">pin</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.get_event_loop" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_event_loop</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Return the currently active asyncio event loop</p>
<p>:return: Active event loop</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">get_event_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the currently active asyncio event loop</span>

<span class="sd">    :return: Active event loop</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">loop</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.i2c_read" class="doc doc-heading">
<code class="highlight language-python"><span class="n">i2c_read</span><span class="p">(</span><span class="n">address</span><span class="p">,</span> <span class="n">register</span><span class="p">,</span> <span class="n">number_of_bytes</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">write_register</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Read the specified number of bytes from the specified register for
the i2c device.</p>
<p>:param address: i2c device address</p>
<p>:param register: i2c register (or None if no register selection is needed)</p>
<p>:param number_of_bytes: number of bytes to be read</p>
<p>:param callback: Required callback function to report i2c data as a
           result of read command</p>
<p>:param i2c_port: select the default port (0) or secondary port (1)</p>
<p>:param write_register: If True, the register is written
                               before read
                      Else, the write is suppressed</p>
<p>callback returns a data list:</p>
<p>[I2C_READ_REPORT, address, register, count of data bytes,
 data bytes, time-stamp]</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">i2c_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">register</span><span class="p">,</span> <span class="n">number_of_bytes</span><span class="p">,</span>
                   <span class="n">callback</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                   <span class="n">write_register</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read the specified number of bytes from the specified register for</span>
<span class="sd">    the i2c device.</span>


<span class="sd">    :param address: i2c device address</span>

<span class="sd">    :param register: i2c register (or None if no register selection is needed)</span>

<span class="sd">    :param number_of_bytes: number of bytes to be read</span>

<span class="sd">    :param callback: Required callback function to report i2c data as a</span>
<span class="sd">               result of read command</span>

<span class="sd">    :param i2c_port: select the default port (0) or secondary port (1)</span>

<span class="sd">    :param write_register: If True, the register is written</span>
<span class="sd">                                   before read</span>
<span class="sd">                          Else, the write is suppressed</span>


<span class="sd">    callback returns a data list:</span>

<span class="sd">    [I2C_READ_REPORT, address, register, count of data bytes,</span>
<span class="sd">     data bytes, time-stamp]</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;i2c_read: A Callback must be specified&#39;</span><span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_i2c_read_request</span><span class="p">(</span><span class="n">address</span><span class="p">,</span> <span class="n">register</span><span class="p">,</span> <span class="n">number_of_bytes</span><span class="p">,</span>
                                 <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="n">i2c_port</span><span class="p">,</span>
                                 <span class="n">write_register</span><span class="o">=</span><span class="n">write_register</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.i2c_read_restart_transmission" class="doc doc-heading">
<code class="highlight language-python"><span class="n">i2c_read_restart_transmission</span><span class="p">(</span><span class="n">address</span><span class="p">,</span> <span class="n">register</span><span class="p">,</span> <span class="n">number_of_bytes</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">write_register</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Read the specified number of bytes from the specified register for
the i2c device. This restarts the transmission after the read. It is
required for some i2c devices such as the MMA8452Q accelerometer.</p>
<p>:param address: i2c device address</p>
<p>:param register: i2c register (or None if no register
                                            selection is needed)</p>
<p>:param number_of_bytes: number of bytes to be read</p>
<p>:param callback: Required callback function to report i2c data as a
           result of read command</p>
<p>:param i2c_port: select the default port (0) or secondary port (1)</p>
<p>:param write_register: If True, the register is written
                               before read
                      Else, the write is suppressed</p>
<p>callback returns a data list:</p>
<p>[I2C_READ_REPORT, address, register, count of data bytes,
 data bytes, time-stamp]</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">i2c_read_restart_transmission</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">register</span><span class="p">,</span>
                                        <span class="n">number_of_bytes</span><span class="p">,</span>
                                        <span class="n">callback</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                        <span class="n">write_register</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read the specified number of bytes from the specified register for</span>
<span class="sd">    the i2c device. This restarts the transmission after the read. It is</span>
<span class="sd">    required for some i2c devices such as the MMA8452Q accelerometer.</span>


<span class="sd">    :param address: i2c device address</span>

<span class="sd">    :param register: i2c register (or None if no register</span>
<span class="sd">                                                selection is needed)</span>

<span class="sd">    :param number_of_bytes: number of bytes to be read</span>

<span class="sd">    :param callback: Required callback function to report i2c data as a</span>
<span class="sd">               result of read command</span>

<span class="sd">    :param i2c_port: select the default port (0) or secondary port (1)</span>

<span class="sd">    :param write_register: If True, the register is written</span>
<span class="sd">                                   before read</span>
<span class="sd">                          Else, the write is suppressed</span>

<span class="sd">    callback returns a data list:</span>

<span class="sd">    [I2C_READ_REPORT, address, register, count of data bytes,</span>
<span class="sd">     data bytes, time-stamp]</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s1">&#39;i2c_read_restart_transmission: A Callback must be specified&#39;</span><span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_i2c_read_request</span><span class="p">(</span><span class="n">address</span><span class="p">,</span> <span class="n">register</span><span class="p">,</span> <span class="n">number_of_bytes</span><span class="p">,</span>
                                 <span class="n">stop_transmission</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                 <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="n">i2c_port</span><span class="p">,</span>
                                 <span class="n">write_register</span><span class="o">=</span><span class="n">write_register</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.i2c_write" class="doc doc-heading">
<code class="highlight language-python"><span class="n">i2c_write</span><span class="p">(</span><span class="n">address</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Write data to an i2c device.</p>
<p>:param address: i2c device address</p>
<p>:param i2c_port: 0= port 1, 1 = port 2</p>
<p>:param args: A variable number of bytes to be sent to the device
             passed in as a list</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">i2c_write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Write data to an i2c device.</span>

<span class="sd">    :param address: i2c device address</span>

<span class="sd">    :param i2c_port: 0= port 1, 1 = port 2</span>

<span class="sd">    :param args: A variable number of bytes to be sent to the device</span>
<span class="sd">                 passed in as a list</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">i2c_port</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2c_1_active</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s1">&#39;I2C Write: set_pin_mode i2c never called for i2c port 1.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">i2c_port</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2c_2_active</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s1">&#39;I2C Write: set_pin_mode i2c never called for i2c port 2.&#39;</span><span class="p">)</span>

    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">I2C_WRITE</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="n">address</span><span class="p">,</span> <span class="n">i2c_port</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.loop_back" class="doc doc-heading">
<code class="highlight language-python"><span class="n">loop_back</span><span class="p">(</span><span class="n">start_character</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>This is a debugging method to send a character to the
Arduino device, and have the device loop it back.</p>
<p>:param start_character: The character to loop back. It should be
                        an integer.</p>
<p>:param callback: Looped back character will appear in the callback method</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">loop_back</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_character</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is a debugging method to send a character to the</span>
<span class="sd">    Arduino device, and have the device loop it back.</span>

<span class="sd">    :param start_character: The character to loop back. It should be</span>
<span class="sd">                            an integer.</span>

<span class="sd">    :param callback: Looped back character will appear in the callback method</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;loop_back: A callback function must be specified.&#39;</span><span class="p">)</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">LOOP_COMMAND</span><span class="p">,</span> <span class="nb">ord</span><span class="p">(</span><span class="n">start_character</span><span class="p">)]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">loop_back_callback</span> <span class="o">=</span> <span class="n">callback</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.r4_hard_reset" class="doc doc-heading">
<code class="highlight language-python"><span class="n">r4_hard_reset</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Place the r4 into hard reset</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">r4_hard_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Place the r4 into hard reset</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">BOARD_HARD_RESET</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.servo_detach" class="doc doc-heading">
<code class="highlight language-python"><span class="n">servo_detach</span><span class="p">(</span><span class="n">pin_number</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Detach a servo for reuse
:param pin_number: attached pin</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">servo_detach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Detach a servo for reuse</span>
<span class="sd">    :param pin_number: attached pin</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SERVO_DETACH</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.servo_write" class="doc doc-heading">
<code class="highlight language-python"><span class="n">servo_write</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">angle</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Set a servo attached to a pin to a given angle.</p>
<p>:param pin_number: pin</p>
<p>:param angle: angle (0-180)</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">servo_write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span> <span class="n">angle</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Set a servo attached to a pin to a given angle.</span>

<span class="sd">    :param pin_number: pin</span>

<span class="sd">    :param angle: angle (0-180)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SERVO_WRITE</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span> <span class="n">angle</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_analog_scan_interval" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_analog_scan_interval</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Set the analog scanning interval.</p>
<p>:param interval: value of 0 - 255 - milliseconds</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_analog_scan_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the analog scanning interval.</span>

<span class="sd">    :param interval: value of 0 - 255 - milliseconds</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">interval</span> <span class="o">&lt;=</span> <span class="mi">255</span><span class="p">:</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SET_ANALOG_SCANNING_INTERVAL</span><span class="p">,</span> <span class="n">interval</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;Analog interval must be between 0 and 255&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_analog_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_pin_mode_analog_input</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">differential</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Set a pin as an analog input.</p>
<p>:param pin_number: arduino pin number</p>
<p>:param callback: async callback function</p>
<p>:param differential: difference in previous to current value before
                     report will be generated</p>
<p>callback returns a data list:</p>
<p>[pin_type, pin_number, pin_value, raw_time_stamp]</p>
<p>The pin_type for analog input pins = 3</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_analog_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span> <span class="n">differential</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set a pin as an analog input.</span>

<span class="sd">    :param pin_number: arduino pin number</span>

<span class="sd">    :param callback: async callback function</span>

<span class="sd">    :param differential: difference in previous to current value before</span>
<span class="sd">                         report will be generated</span>

<span class="sd">    callback returns a data list:</span>

<span class="sd">    [pin_type, pin_number, pin_value, raw_time_stamp]</span>

<span class="sd">    The pin_type for analog input pins = 3</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s1">&#39;set_pin_mode_analog_input: A callback function must be specified.&#39;</span><span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_pin_mode</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_ANALOG</span><span class="p">,</span>
                             <span class="n">differential</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_analog_output" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_pin_mode_analog_output</span><span class="p">(</span><span class="n">pin_number</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Set a pin as a pwm (analog output) pin.</p>
<p>:param pin_number:arduino pin number</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_analog_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Set a pin as a pwm (analog output) pin.</span>

<span class="sd">    :param pin_number:arduino pin number</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_pin_mode</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_OUTPUT</span><span class="p">,</span> <span class="n">differential</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                             <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_dht" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_pin_mode_dht</span><span class="p">(</span><span class="n">pin</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dht_type</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>:param pin: connection pin</p>
<p>:param callback: callback function</p>
<p>:param dht_type: either 22 for DHT22 or 11 for DHT11</p>
<p>Error Callback: [DHT REPORT Type, DHT_ERROR_NUMBER, PIN, DHT_TYPE, Time]</p>
<p>Valid Data Callback: DHT REPORT Type, DHT_DATA=, PIN, DHT_TYPE, Humidity,
Temperature,
Time]</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_dht</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dht_type</span><span class="o">=</span><span class="mi">22</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    :param pin: connection pin</span>

<span class="sd">    :param callback: callback function</span>

<span class="sd">    :param dht_type: either 22 for DHT22 or 11 for DHT11</span>

<span class="sd">    Error Callback: [DHT REPORT Type, DHT_ERROR_NUMBER, PIN, DHT_TYPE, Time]</span>

<span class="sd">    Valid Data Callback: DHT REPORT Type, DHT_DATA=, PIN, DHT_TYPE, Humidity,</span>
<span class="sd">    Temperature,</span>
<span class="sd">    Time]</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reported_features</span> <span class="o">&amp;</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DHT_FEATURE</span><span class="p">:</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;set_pin_mode_dht: A Callback must be specified&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dht_count</span> <span class="o">&lt;</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">MAX_DHTS</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dht_callbacks</span><span class="p">[</span><span class="n">pin</span><span class="p">]</span> <span class="o">=</span> <span class="n">callback</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dht_count</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="k">if</span> <span class="n">dht_type</span> <span class="o">!=</span> <span class="mi">22</span> <span class="ow">and</span> <span class="n">dht_type</span> <span class="o">!=</span> <span class="mi">11</span><span class="p">:</span>
                <span class="n">dht_type</span> <span class="o">=</span> <span class="mi">22</span>

            <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">DHT_NEW</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">dht_type</span><span class="p">]</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;Maximum Number Of DHTs Exceeded - set_pin_mode_dht fails for pin </span><span class="si">{</span><span class="n">pin</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The DHT feature is disabled in the server.&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_digital_input" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_pin_mode_digital_input</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Set a pin as a digital input.</p>
<p>:param pin_number: arduino pin number</p>
<p>:param callback: async callback function</p>
<p>callback returns a data list:</p>
<p>[pin_type, pin_number, pin_value, raw_time_stamp]</p>
<p>The pin_type for all digital input pins = 2</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_digital_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set a pin as a digital input.</span>

<span class="sd">    :param pin_number: arduino pin number</span>

<span class="sd">    :param callback: async callback function</span>

<span class="sd">    callback returns a data list:</span>

<span class="sd">    [pin_type, pin_number, pin_value, raw_time_stamp]</span>

<span class="sd">    The pin_type for all digital input pins = 2</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_pin_mode</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_INPUT</span><span class="p">,</span> <span class="n">differential</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                             <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_digital_input_pullup" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_pin_mode_digital_input_pullup</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Set a pin as a digital input with pullup enabled.</p>
<p>:param pin_number: arduino pin number</p>
<p>:param callback: async callback function</p>
<p>callback returns a data list:</p>
<p>[pin_type, pin_number, pin_value, raw_time_stamp]</p>
<p>The pin_type for all digital input pins = 2</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_digital_input_pullup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set a pin as a digital input with pullup enabled.</span>

<span class="sd">    :param pin_number: arduino pin number</span>

<span class="sd">    :param callback: async callback function</span>

<span class="sd">    callback returns a data list:</span>

<span class="sd">    [pin_type, pin_number, pin_value, raw_time_stamp]</span>

<span class="sd">    The pin_type for all digital input pins = 2</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s1">&#39;set_pin_mode_digital_input_pullup: A callback function must be specified.&#39;</span><span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_pin_mode</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_INPUT_PULLUP</span><span class="p">,</span>
                             <span class="n">differential</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_digital_output" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_pin_mode_digital_output</span><span class="p">(</span><span class="n">pin_number</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Set a pin as a digital output pin.</p>
<p>:param pin_number: arduino pin number</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_digital_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set a pin as a digital output pin.</span>

<span class="sd">    :param pin_number: arduino pin number</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_pin_mode</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">AT_OUTPUT</span><span class="p">,</span> <span class="n">differential</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                             <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_i2c" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_pin_mode_i2c</span><span class="p">(</span><span class="n">i2c_port</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Establish the standard Arduino i2c pins for i2c utilization.</p>
<p>:param i2c_port: 0 = i2c1, 1 = i2c2</p>

<details class="notes" open>
  <summary><ol>
<li>THIS METHOD MUST BE CALLED BEFORE ANY I2C REQUEST IS MADE</li>
</ol></summary>
  <ol>
<li>Callbacks are set within the individual i2c read methods of this</li>
</ol>
</details>      <pre><code>  API.

  See i2c_read, or i2c_read_restart_transmission.
</code></pre>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_i2c</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i2c_port</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Establish the standard Arduino i2c pins for i2c utilization.</span>

<span class="sd">    :param i2c_port: 0 = i2c1, 1 = i2c2</span>

<span class="sd">    NOTES: 1. THIS METHOD MUST BE CALLED BEFORE ANY I2C REQUEST IS MADE</span>
<span class="sd">           2. Callbacks are set within the individual i2c read methods of this</span>
<span class="sd">          API.</span>

<span class="sd">          See i2c_read, or i2c_read_restart_transmission.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># test for i2c port 2</span>
    <span class="k">if</span> <span class="n">i2c_port</span><span class="p">:</span>
        <span class="c1"># if not previously activated set it to activated</span>
        <span class="c1"># and the send a begin message for this port</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2c_2_active</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">i2c_2_active</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span>
    <span class="c1"># port 1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">i2c_1_active</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">i2c_1_active</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span>

    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">I2C_BEGIN</span><span class="p">,</span> <span class="n">i2c_port</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_servo" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_pin_mode_servo</span><span class="p">(</span><span class="n">pin_number</span><span class="p">,</span> <span class="n">min_pulse</span><span class="o">=</span><span class="mi">544</span><span class="p">,</span> <span class="n">max_pulse</span><span class="o">=</span><span class="mi">2400</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Attach a pin to a servo motor</p>
<p>:param pin_number: pin</p>
<p>:param min_pulse: minimum pulse width</p>
<p>:param max_pulse: maximum pulse width</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_servo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span> <span class="n">min_pulse</span><span class="o">=</span><span class="mi">544</span><span class="p">,</span> <span class="n">max_pulse</span><span class="o">=</span><span class="mi">2400</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Attach a pin to a servo motor</span>

<span class="sd">    :param pin_number: pin</span>

<span class="sd">    :param min_pulse: minimum pulse width</span>

<span class="sd">    :param max_pulse: maximum pulse width</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reported_features</span> <span class="o">&amp;</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SERVO_FEATURE</span><span class="p">:</span>

        <span class="n">minv</span> <span class="o">=</span> <span class="p">(</span><span class="n">min_pulse</span><span class="p">)</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">byteorder</span><span class="o">=</span><span class="s2">&quot;big&quot;</span><span class="p">)</span>
        <span class="n">maxv</span> <span class="o">=</span> <span class="p">(</span><span class="n">max_pulse</span><span class="p">)</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">byteorder</span><span class="o">=</span><span class="s2">&quot;big&quot;</span><span class="p">)</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SERVO_ATTACH</span><span class="p">,</span> <span class="n">pin_number</span><span class="p">,</span>
                   <span class="n">minv</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">minv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">maxv</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">maxv</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The SERVO feature is disabled in the server.&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_sonar" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_pin_mode_sonar</span><span class="p">(</span><span class="n">trigger_pin</span><span class="p">,</span> <span class="n">echo_pin</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>:param trigger_pin:</p>
<p>:param echo_pin:</p>
<p>:param callback:  callback</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_sonar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger_pin</span><span class="p">,</span> <span class="n">echo_pin</span><span class="p">,</span>
                             <span class="n">callback</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    :param trigger_pin:</span>

<span class="sd">    :param echo_pin:</span>

<span class="sd">    :param callback:  callback</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reported_features</span> <span class="o">&amp;</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SONAR_FEATURE</span><span class="p">:</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">callback</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;set_pin_mode_sonar: A Callback must be specified&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sonar_count</span> <span class="o">&lt;</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">MAX_SONARS</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sonar_callbacks</span><span class="p">[</span><span class="n">trigger_pin</span><span class="p">]</span> <span class="o">=</span> <span class="n">callback</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sonar_count</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SONAR_NEW</span><span class="p">,</span> <span class="n">trigger_pin</span><span class="p">,</span> <span class="n">echo_pin</span><span class="p">]</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;Maximum Number Of Sonars Exceeded - set_pin_mode_sonar fails for pin </span><span class="si">{</span><span class="n">trigger_pin</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The SONAR feature is disabled in the server.&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.set_pin_mode_spi" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_pin_mode_spi</span><span class="p">(</span><span class="n">chip_select_list</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Specify the list of chip select pins.</p>
<p>Standard Arduino MISO, MOSI and CLK pins are used for the board in use.</p>
<p>Chip Select is any digital output capable pin.</p>
<p>:param chip_select_list: this is a list of pins to be used for chip select.
                   The pins will be configured as output, and set to high
                   ready to be used for chip select.
                   NOTE: You must specify the chips select pins here!</p>
<p>command message: [command, number of cs pins, [cs pins...]]</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">set_pin_mode_spi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chip_select_list</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Specify the list of chip select pins.</span>

<span class="sd">    Standard Arduino MISO, MOSI and CLK pins are used for the board in use.</span>

<span class="sd">    Chip Select is any digital output capable pin.</span>

<span class="sd">    :param chip_select_list: this is a list of pins to be used for chip select.</span>
<span class="sd">                       The pins will be configured as output, and set to high</span>
<span class="sd">                       ready to be used for chip select.</span>
<span class="sd">                       NOTE: You must specify the chips select pins here!</span>


<span class="sd">    command message: [command, number of cs pins, [cs pins...]]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reported_features</span> <span class="o">&amp;</span> <span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_FEATURE</span><span class="p">:</span>

        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">chip_select_list</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;chip_select_list must be in the form of a list&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">chip_select_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;Chip select pins were not specified&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">spi_enabled</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_INIT</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">chip_select_list</span><span class="p">)]</span>

        <span class="k">for</span> <span class="n">pin</span> <span class="ow">in</span> <span class="n">chip_select_list</span><span class="p">:</span>
            <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cs_pins_enabled</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The SPI feature is disabled in the server.&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.shutdown" class="doc doc-heading">
<code class="highlight language-python"><span class="n">shutdown</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>This method attempts an orderly shutdown
If any exceptions are thrown, they are ignored.</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span>
<span class="normal">2063</span>
<span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This method attempts an orderly shutdown</span>
<span class="sd">    If any exceptions are thrown, they are ignored.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_flag</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hard_reset_on_shutdown</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">r4_hard_reset</span><span class="p">()</span>
    <span class="c1"># stop all reporting - both analog and digital</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">STOP_ALL_REPORTS</span><span class="p">]</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.5</span><span class="p">)</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span><span class="o">.</span><span class="n">reset_input_buffer</span><span class="p">()</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">serial_port</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_loop_on_shutdown</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">RuntimeError</span><span class="p">,</span> <span class="n">SerialException</span><span class="p">):</span>
            <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.sonar_disable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sonar_disable</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Disable sonar scanning for all sonar sensors</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">sonar_disable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Disable sonar scanning for all sonar sensors</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SONAR_DISABLE</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.sonar_enable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sonar_enable</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Enable sonar scanning for all sonar sensors</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">sonar_enable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enable sonar scanning for all sonar sensors</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SONAR_ENABLE</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.spi_cs_control" class="doc doc-heading">
<code class="highlight language-python"><span class="n">spi_cs_control</span><span class="p">(</span><span class="n">chip_select_pin</span><span class="p">,</span> <span class="n">select</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Control an SPI chip select line
:param chip_select_pin: pin connected to CS</p>
<p>:param select: 0=select, 1=deselect</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">spi_cs_control</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chip_select_pin</span><span class="p">,</span> <span class="n">select</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Control an SPI chip select line</span>
<span class="sd">    :param chip_select_pin: pin connected to CS</span>

<span class="sd">    :param select: 0=select, 1=deselect</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">spi_enabled</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_cs_control: SPI interface is not enabled.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">chip_select_pin</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cs_pins_enabled</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_cs_control: chip select pin never enabled.&#39;</span><span class="p">)</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_CS_CONTROL</span><span class="p">,</span> <span class="n">chip_select_pin</span><span class="p">,</span> <span class="n">select</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.spi_read_blocking" class="doc doc-heading">
<code class="highlight language-python"><span class="n">spi_read_blocking</span><span class="p">(</span><span class="n">chip_select</span><span class="p">,</span> <span class="n">register_selection</span><span class="p">,</span> <span class="n">number_of_bytes_to_read</span><span class="p">,</span> <span class="n">call_back</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Read the specified number of bytes from the specified SPI port and
call the callback function with the reported data.</p>
<p>:param chip_select: chip select pin</p>
<p>:param register_selection: Register to be selected for read.</p>
<p>:param number_of_bytes_to_read: Number of bytes to read</p>
<p>:param call_back: Required callback function to report spi data as a
           result of read command</p>

<details class="callback-returns-a-data-list" open>
  <summary>callback returns a data list</summary>
  <p>[SPI_READ_REPORT, chip select pin, SPI Register, count of data bytes read,
 data bytes, time-stamp]</p>
</details>      <p>SPI_READ_REPORT = 13</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">spi_read_blocking</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chip_select</span><span class="p">,</span> <span class="n">register_selection</span><span class="p">,</span>
                            <span class="n">number_of_bytes_to_read</span><span class="p">,</span>
                      <span class="n">call_back</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read the specified number of bytes from the specified SPI port and</span>
<span class="sd">    call the callback function with the reported data.</span>

<span class="sd">    :param chip_select: chip select pin</span>

<span class="sd">    :param register_selection: Register to be selected for read.</span>

<span class="sd">    :param number_of_bytes_to_read: Number of bytes to read</span>

<span class="sd">    :param call_back: Required callback function to report spi data as a</span>
<span class="sd">               result of read command</span>


<span class="sd">    callback returns a data list:</span>
<span class="sd">        [SPI_READ_REPORT, chip select pin, SPI Register, count of data bytes read,</span>
<span class="sd">         data bytes, time-stamp]</span>
<span class="sd">    SPI_READ_REPORT = 13</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">spi_enabled</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_read_blocking: SPI interface is not enabled.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">call_back</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;spi_read_blocking: A Callback must be specified&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">spi_callback</span> <span class="o">=</span> <span class="n">call_back</span>

    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_READ_BLOCKING</span><span class="p">,</span> <span class="n">chip_select</span><span class="p">,</span>
               <span class="n">number_of_bytes_to_read</span><span class="p">,</span>
               <span class="n">register_selection</span><span class="p">]</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.spi_set_format" class="doc doc-heading">
<code class="highlight language-python"><span class="n">spi_set_format</span><span class="p">(</span><span class="n">clock_divisor</span><span class="p">,</span> <span class="n">bit_order</span><span class="p">,</span> <span class="n">data_mode</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Configure how the SPI serializes and de-serializes data on the wire.</p>
<p>See Arduino SPI reference materials for details.</p>
<p>:param clock_divisor: 1 - 255</p>
<p>:param bit_order:</p>
<pre><code>                LSBFIRST = 0

                MSBFIRST = 1 (default)
</code></pre>
<p>:param data_mode:</p>
<pre><code>                SPI_MODE0 = 0x00 (default)

                SPI_MODE1  = 1

                SPI_MODE2 = 2

                SPI_MODE3 = 3
</code></pre>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">spi_set_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clock_divisor</span><span class="p">,</span> <span class="n">bit_order</span><span class="p">,</span> <span class="n">data_mode</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Configure how the SPI serializes and de-serializes data on the wire.</span>

<span class="sd">    See Arduino SPI reference materials for details.</span>

<span class="sd">    :param clock_divisor: 1 - 255</span>

<span class="sd">    :param bit_order:</span>

<span class="sd">                        LSBFIRST = 0</span>

<span class="sd">                        MSBFIRST = 1 (default)</span>

<span class="sd">    :param data_mode:</span>

<span class="sd">                        SPI_MODE0 = 0x00 (default)</span>

<span class="sd">                        SPI_MODE1  = 1</span>

<span class="sd">                        SPI_MODE2 = 2</span>

<span class="sd">                        SPI_MODE3 = 3</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">spi_enabled</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_set_format: SPI interface is not enabled.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">clock_divisor</span> <span class="o">&lt;=</span> <span class="mi">255</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_set_format: illegal clock divisor selected.&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">bit_order</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_set_format: illegal bit_order selected.&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data_mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_set_format: illegal data_order selected.&#39;</span><span class="p">)</span>

    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_SET_FORMAT</span><span class="p">,</span> <span class="n">clock_divisor</span><span class="p">,</span> <span class="n">bit_order</span><span class="p">,</span>
               <span class="n">data_mode</span><span class="p">]</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.spi_write_blocking" class="doc doc-heading">
<code class="highlight language-python"><span class="n">spi_write_blocking</span><span class="p">(</span><span class="n">chip_select</span><span class="p">,</span> <span class="n">bytes_to_write</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Write a list of bytes to the SPI device.</p>
<p>:param chip_select: chip select pin</p>
<p>:param bytes_to_write: A list of bytes to write. This must
                        be in the form of a list.</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">spi_write_blocking</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chip_select</span><span class="p">,</span> <span class="n">bytes_to_write</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Write a list of bytes to the SPI device.</span>

<span class="sd">    :param chip_select: chip select pin</span>

<span class="sd">    :param bytes_to_write: A list of bytes to write. This must</span>
<span class="sd">                            be in the form of a list.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">spi_enabled</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;spi_write_blocking: SPI interface is not enabled.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">bytes_to_write</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">list</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;spi_write_blocking: bytes_to_write must be a list.&#39;</span><span class="p">)</span>

    <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">SPI_WRITE_BLOCKING</span><span class="p">,</span> <span class="n">chip_select</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">bytes_to_write</span><span class="p">)]</span>

    <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">bytes_to_write</span><span class="p">:</span>
        <span class="n">command</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="telemetrix_uno_r4_minima_aio.TelemetrixUnoR4MinimaAio.start_aio" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start_aio</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>This method may be called directly, if the autostart
parameter in <strong>init</strong> is set to false.</p>
<p>This method instantiates the serial interface and then performs auto pin
discovery if using a serial interface, or creates and connects to
a TCP/IP enabled device running StandardFirmataWiFi.</p>
<p>Use this method if you wish to start TelemetrixAIO manually from
an asyncio function.</p>

          <details class="quote">
            <summary>Source code in <code>telemetrix_uno_r4/minima/telemetrix_uno_r4_minima_aio/telemetrix_uno_r4_minima_aio.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">start_aio</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This method may be called directly, if the autostart</span>
<span class="sd">    parameter in __init__ is set to false.</span>

<span class="sd">    This method instantiates the serial interface and then performs auto pin</span>
<span class="sd">    discovery if using a serial interface, or creates and connects to</span>
<span class="sd">    a TCP/IP enabled device running StandardFirmataWiFi.</span>

<span class="sd">    Use this method if you wish to start TelemetrixAIO manually from</span>
<span class="sd">    an asyncio function.</span>
<span class="sd">     &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">com_port</span><span class="p">:</span>
        <span class="c1"># user did not specify a com_port</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_arduino</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># com_port specified - set com_port and baud rate</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manual_open</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">com_port</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Telemetrix4UnoR4 found and connected to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">com_port</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="c1"># no com_port found - raise a runtime exception</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;No Arduino Found or User Aborted Program&#39;</span><span class="p">)</span>

    <span class="c1"># get arduino firmware version and print it</span>
    <span class="n">firmware_version</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_firmware_version</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">firmware_version</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*** Firmware Version retrieval timed out. ***&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Do you have Arduino connectivity and do you have the &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Telemetrix4UnoR4 sketch uploaded to the board and are connected&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;to the correct serial port.</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;To see a list of serial ports, type: &#39;</span>
              <span class="s1">&#39;&quot;list_serial_ports&quot; in your console.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown_on_exception</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span>
    <span class="k">else</span><span class="p">:</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Telemetrix4UnoR4 Version Number: </span><span class="si">{</span><span class="n">firmware_version</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s1">.&#39;</span>
              <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">firmware_version</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">firmware_version</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="c1"># start the command dispatcher loop</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">ENABLE_ALL_REPORTS</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">the_task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_arduino_report_dispatcher</span><span class="p">())</span>

        <span class="c1"># get the features list</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">GET_FEATURES</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.5</span><span class="p">)</span>

        <span class="c1"># Have the server reset its data structures</span>
        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span><span class="n">PrivateConstants</span><span class="o">.</span><span class="n">RESET</span><span class="p">]</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../telemetrix_minima_reference/" class="md-footer__link md-footer__link--prev" aria-label="Previous: telemetrix_uno_r4_minima" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                telemetrix_uno_r4_minima
              </div>
            </div>
          </a>
        
        
          
          <a href="../telemetrix_wifi_reference/" class="md-footer__link md-footer__link--next" aria-label="Next: telemetrix_uno_r4_wifi" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                telemetrix_uno_r4_wifi
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.action.edit", "content.action.view", "navigation.footer"], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>